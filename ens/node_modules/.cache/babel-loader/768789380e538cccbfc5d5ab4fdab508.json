{"remainingRequest":"/Users/dengzixu/WebstormProjects/vue/pattern100_en_web/en/node_modules/babel-loader/lib/index.js!/Users/dengzixu/WebstormProjects/vue/pattern100_en_web/en/src/components/axios/axios_v3.js","dependencies":[{"path":"/Users/dengzixu/WebstormProjects/vue/pattern100_en_web/en/src/components/axios/axios_v3.js","mtime":1666857742876},{"path":"/Users/dengzixu/WebstormProjects/vue/pattern100_en_web/en/babel.config.js","mtime":1649920282752},{"path":"/Users/dengzixu/WebstormProjects/vue/pattern100_en_web/en/node_modules/cache-loader/dist/cjs.js","mtime":1665559060439},{"path":"/Users/dengzixu/WebstormProjects/vue/pattern100_en_web/en/node_modules/babel-loader/lib/index.js","mtime":1665559060757}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2Rlbmd6aXh1L1dlYnN0b3JtUHJvamVjdHMvdnVlL3BhdHRlcm4xMDBfZW5fd2ViL2VuL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBjb25maWcgZnJvbSAiLi9jb25maWciOwp2YXIgbWVzc2FnZSA9IHsKICBlcnJvcjogZnVuY3Rpb24gZXJyb3IodHh0KSB7fQp9Owp2YXIgQUpBWF9USU1FT1VUID0gIkVDT05OQUJPUlRFRCI7IC8vIGNvbnNvbGUubG9nKHdpbmRvdy5yb290X2NvbmZpZykKCnZhciBST09UX1VSTCA9ICIiOwoKaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAiZGV2ZWxvcG1lbnQiKSB7CiAgUk9PVF9VUkwgPSBjb25maWcuZGV2ZWxvcG1lbnQ7Cn0gZWxzZSB7CiAgUk9PVF9VUkwgPSBjb25maWcucHJvZHVjdDsKfQoKdmFyIG5ld1JlcXVlc3QgPSBmdW5jdGlvbiBuZXdSZXF1ZXN0KHVybCwgcGFyYW1zLCBtZXRob2QsIG9uRXJyb3IsIHZtLCBsb2FkaW5nKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIGlmICh2bSkgewogICAgICB2bS4kc3RvcmUuc3RhdGUudGlwc2IgPSB0cnVlOwoKICAgICAgaWYgKGxvYWRpbmcgPT0gIm9mZiIpIHsKICAgICAgICB2bS4kc3RvcmUuc3RhdGUudGlwc2IgPSBmYWxzZTsKICAgICAgfQogICAgfQoKICAgIHZhciBwb3N0RGF0YSA9IHt9OyAvLyBjb25zb2xlLmxvZyhsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpKTsKICAgIC8vIGNvbnN0IHVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VyIikpOwoKICAgIHZhciB0dXJsID0gUk9PVF9VUkwgKyB1cmw7CiAgICBwb3N0RGF0YSA9IF9vYmplY3RTcHJlYWQoewogICAgICB1cmw6IHR1cmwsCiAgICAgIG1ldGhvZDogbWV0aG9kLAogICAgICB0aW1lb3V0OiA2MDAwMCwKICAgICAgd2l0aENyZWRlbnRpYWxzOiBmYWxzZSwKICAgICAgaGVhZGVyczogewogICAgICAgICJ4LWFwaS1rZXkiOiAiNjJmZTA4YTFkN2ZlNTQzZjE5ZmM0MTY0LVltT3c5dzRDVmMxMjlidnN0eUxGbWpEYnNkQUNQT05SbTBzbDNvbXM5Zm5LYWdBdk1xIiwKICAgICAgICAiYWNjZXB0IjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIKICAgICAgfQogICAgfSwgcGFyYW1zKTsKICAgIGF4aW9zKHBvc3REYXRhKS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgIHZhciBkYXRhID0gX3JlZi5kYXRhOwoKICAgICAgaWYgKHZtKSB7CiAgICAgICAgdm0uJHN0b3JlLnN0YXRlLnRpcHNiID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIHZhciBjb2RlID0gZGF0YS5jb2RlLAogICAgICAgICAgbXNnID0gZGF0YS5tc2csCiAgICAgICAgICB1c2VyID0gZGF0YS51c2VyOwoKICAgICAgaWYgKGNvZGUgPT0gMjAwICYmIHVzZXIgPT0gbnVsbCkge30gZWxzZSBpZiAoY29kZSA9PSA2ODApIHt9CgogICAgICByZXNvbHZlKGRhdGEpOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGlmICh2bSkgewogICAgICAgIHZtLiRzdG9yZS5zdGF0ZS50aXBzYiA9IGZhbHNlOwogICAgICAgIHZtLiRtZXNzYWdlLmVycm9yKGVycm9yKTsKICAgICAgfQoKICAgICAgb25FcnJvciAmJiBvbkVycm9yKGVycm9yKTsgLy8gaWYgKGVycm9yLmNvZGUgPT09IEFKQVhfVElNRU9VVCkgewogICAgICAvLyAgIG1lc3NhZ2UuZXJyb3Iodm0uJHQoJ21lc3NhZ2UuTUVTU0FHRS5jb2RlLnRpbWVPdXQnKSk7CiAgICAgIC8vIH0gZWxzZSB7CiAgICAgIC8vICAgbWVzc2FnZS5lcnJvcih2bS4kdCgnbWVzc2FnZS5NRVNTQUdFLmNvZGUuZXJyb3InKSk7CiAgICAgIC8vICAgdGhyb3cgZXJyb3I7CiAgICAgIC8vIH0KICAgIH0pOwogIH0pOwp9OwoKdmFyIHJlcXVlc3QgPSBmdW5jdGlvbiByZXF1ZXN0KF9yZWYyKSB7CiAgdmFyIF9yZWYyJHVybCA9IF9yZWYyLnVybCwKICAgICAgdXJsID0gX3JlZjIkdXJsID09PSB2b2lkIDAgPyAiIiA6IF9yZWYyJHVybCwKICAgICAgX3JlZjIkcGFyYW0gPSBfcmVmMi5wYXJhbSwKICAgICAgcGFyYW0gPSBfcmVmMiRwYXJhbSA9PT0gdm9pZCAwID8ge30gOiBfcmVmMiRwYXJhbSwKICAgICAgX3JlZjIkbWV0aG9kID0gX3JlZjIubWV0aG9kLAogICAgICBtZXRob2QgPSBfcmVmMiRtZXRob2QgPT09IHZvaWQgMCA/ICJnZXQiIDogX3JlZjIkbWV0aG9kLAogICAgICBvbkVycm9yID0gX3JlZjIub25FcnJvciwKICAgICAgdm0gPSBfcmVmMi52bSwKICAgICAgbG9hZGluZyA9IF9yZWYyLmxvYWRpbmc7CiAgdmFyIE1ldGhvZCA9IG1ldGhvZC50b0xvd2VyQ2FzZSgpOwoKICBpZiAoTWV0aG9kID09PSAicG9zdCIpIHsKICAgIC8vIGNvbnNvbGUubG9nKCJwb3N0IiwgcGFyYW0pOwogICAgcmV0dXJuIG5ld1JlcXVlc3QodXJsLCB7CiAgICAgIGRhdGE6IHBhcmFtCiAgICB9LCAicG9zdCIsIG9uRXJyb3IsIHZtLCBsb2FkaW5nKTsKICB9CgogIGlmIChNZXRob2QgPT09ICJwdXQiKSB7CiAgICByZXR1cm4gbmV3UmVxdWVzdCh1cmwsIHsKICAgICAgZGF0YTogcGFyYW0KICAgIH0sICJwdXQiLCBvbkVycm9yLCB2bSwgbG9hZGluZyk7CiAgfQoKICBpZiAoTWV0aG9kID09PSAiZGVsZXRlIikgewogICAgcmV0dXJuIG5ld1JlcXVlc3QodXJsLCB7CiAgICAgIHBhcmFtczogcGFyYW0KICAgIH0sICJkZWxldGUiLCBvbkVycm9yLCB2bSwgbG9hZGluZyk7CiAgfQoKICByZXR1cm4gbmV3UmVxdWVzdCh1cmwsIHsKICAgIHBhcmFtczogcGFyYW0KICB9LCAiZ2V0Iiwgb25FcnJvciwgdm0sIGxvYWRpbmcpOyAvLyDpu5jorqQgR2V0IOivt+axggp9OwoKcmVxdWVzdC5nZXQgPSBmdW5jdGlvbiAodXJsLCBwYXJhbSwgb25FcnJvciwgdm0pIHsKICByZXR1cm4gcmVxdWVzdCh7CiAgICBtZXRob2Q6ICJnZXQiLAogICAgdXJsOiB1cmwsCiAgICBwYXJhbTogcGFyYW0sCiAgICBvbkVycm9yOiBvbkVycm9yLAogICAgdm06IHZtCiAgfSk7Cn07CgpyZXF1ZXN0LnBvc3QgPSBmdW5jdGlvbiAodXJsLCBwYXJhbSwgb25FcnJvciwgdm0pIHsKICByZXR1cm4gcmVxdWVzdCh7CiAgICBtZXRob2Q6ICJwb3N0IiwKICAgIHVybDogdXJsLAogICAgcGFyYW06IHBhcmFtLAogICAgb25FcnJvcjogb25FcnJvciwKICAgIHZtOiB2bQogIH0pOwp9OwoKcmVxdWVzdC5wdXQgPSBmdW5jdGlvbiAodXJsLCBwYXJhbSwgb25FcnJvciwgdm0pIHsKICByZXR1cm4gcmVxdWVzdCh7CiAgICBtZXRob2Q6ICJwdXQiLAogICAgdXJsOiB1cmwsCiAgICBwYXJhbTogcGFyYW0sCiAgICBvbkVycm9yOiBvbkVycm9yLAogICAgdm06IHZtCiAgfSk7Cn07CgpyZXF1ZXN0LmRlbGV0ZSA9IGZ1bmN0aW9uICh1cmwsIHBhcmFtLCBvbkVycm9yLCB2bSkgewogIHJldHVybiByZXF1ZXN0KHsKICAgIG1ldGhvZDogImRlbGV0ZSIsCiAgICB1cmw6IHVybCwKICAgIHBhcmFtOiBwYXJhbSwKICAgIG9uRXJyb3I6IG9uRXJyb3IsCiAgICB2bTogdm0KICB9KTsKfTsKCmV4cG9ydCBkZWZhdWx0IHJlcXVlc3Q7"},{"version":3,"sources":["/Users/dengzixu/WebstormProjects/vue/pattern100_en_web/en/src/components/axios/axios_v3.js"],"names":["config","message","error","txt","AJAX_TIMEOUT","ROOT_URL","process","env","NODE_ENV","development","product","newRequest","url","params","method","onError","vm","loading","Promise","resolve","reject","$store","state","tipsb","postData","turl","timeout","withCredentials","headers","axios","then","data","code","msg","user","catch","$message","request","param","Method","toLowerCase","get","post","put","delete"],"mappings":"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","sourcesContent":["\nimport config from \"./config\";\n\n\nconst message = {\n    error: function (txt) {\n\n    }\n};\n\nconst AJAX_TIMEOUT = \"ECONNABORTED\";\n\n// console.log(window.root_config)\nlet ROOT_URL = \"\";\n\nif (process.env.NODE_ENV === \"development\") {\n    ROOT_URL = config.development;\n} else {\n    ROOT_URL = config.product;\n}\n\nconst newRequest = (url, params, method, onError, vm, loading) =>\n    new Promise((resolve, reject) => {\n\n\n        if(vm) {\n            vm.$store.state.tipsb = true;\n            if (loading == \"off\") {\n                vm.$store.state.tipsb = false\n            }\n        }\n\n        let postData = {};\n        // console.log(localStorage.getItem(\"user\"));\n\n        // const user = JSON.parse(localStorage.getItem(\"user\"));\n\n        let turl = ROOT_URL + url;\n        \n        postData = {\n            url: turl,\n            method,\n            timeout: 60000,\n            withCredentials: false,\n            headers: {\n                \"x-api-key\": \"62fe08a1d7fe543f19fc4164-YmOw9w4CVc129bvstyLFmjDbsdACPONRm0sl3oms9fnKagAvMq\",\n                \"accept\":\"application/json\",\n                \"content-type\":\"application/json\"\n            },\n            ...params\n        };\n\n\n        axios(postData)\n            .then(({ data }) => {\n               \n\n                if(vm) {\n                    vm.$store.state.tipsb = false;\n                }\n        \n            \n                const {code, msg, user} = data;\n\n                if (code == 200 && user == null) {\n               \n                } else if (code == 680) {\n                    \n                }\n\n                resolve(data);\n            })\n            .catch(error => {\n\n                if(vm) {\n                    vm.$store.state.tipsb = false;\n                    vm.$message.error(error)\n                }\n                onError && onError(error);\n\n                // if (error.code === AJAX_TIMEOUT) {\n                //   message.error(vm.$t('message.MESSAGE.code.timeOut'));\n                // } else {\n                //   message.error(vm.$t('message.MESSAGE.code.error'));\n                //   throw error;\n                // }\n            });\n    });\nconst request = ({url = \"\", param = {}, method = \"get\", onError, vm, loading}) => {\n\n\n    const Method = method.toLowerCase();\n    if (Method === \"post\") {\n        // console.log(\"post\", param);\n        return newRequest(url, {data: param}, \"post\", onError, vm, loading);\n    }\n    if (Method === \"put\") {\n        return newRequest(url, {data: param}, \"put\", onError, vm, loading);\n    }\n    if (Method === \"delete\") {\n        return newRequest(url, {params: param}, \"delete\", onError, vm, loading);\n    }\n    return newRequest(url, {params: param}, \"get\", onError, vm, loading); // 默认 Get 请求\n};\n\nrequest.get = (url, param, onError, vm) =>\n    request({ method: \"get\", url, param, onError, vm });\nrequest.post = (url, param, onError, vm) =>\n    request({ method: \"post\", url, param, onError, vm });\nrequest.put = (url, param, onError, vm) =>\n    request({ method: \"put\", url, param, onError, vm });\nrequest.delete = (url, param, onError, vm) =>\n    request({ method: \"delete\", url, param, onError, vm });\n\nexport default request;"]}]}