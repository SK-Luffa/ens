{"remainingRequest":"/Users/dengzixu/WebstormProjects/vue/pattern100_en_web/ens/node_modules/babel-loader/lib/index.js!/Users/dengzixu/WebstormProjects/vue/pattern100_en_web/ens/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/dengzixu/WebstormProjects/vue/pattern100_en_web/ens/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dengzixu/WebstormProjects/vue/pattern100_en_web/ens/src/components/Details/detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/dengzixu/WebstormProjects/vue/pattern100_en_web/ens/src/components/Details/detail.vue","mtime":1669627795861},{"path":"/Users/dengzixu/WebstormProjects/vue/pattern100_en_web/ens/babel.config.js","mtime":1649920282752},{"path":"/Users/dengzixu/WebstormProjects/vue/pattern100_en_web/ens/node_modules/cache-loader/dist/cjs.js","mtime":1665559060439},{"path":"/Users/dengzixu/WebstormProjects/vue/pattern100_en_web/ens/node_modules/babel-loader/lib/index.js","mtime":1665559060757},{"path":"/Users/dengzixu/WebstormProjects/vue/pattern100_en_web/ens/node_modules/cache-loader/dist/cjs.js","mtime":1665559060439},{"path":"/Users/dengzixu/WebstormProjects/vue/pattern100_en_web/ens/node_modules/vue-loader/lib/index.js","mtime":1665559060829}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgQm90dG9tIGZyb20gIkAvY29tcG9uZW50cy9Cb3R0b21OYXZpZ2F0aW9uL2luZGV4IjsKaW1wb3J0IHsgc29ydGluZ19saXN0LCBkb3dubG9hZCB9IGZyb20gIkAvdXRpbHMvdXRpbCI7CmltcG9ydCBDZWxsIGZyb20gIi4uL1NjcmVlbi9DZWxsIjsKaW1wb3J0IFNob3UgZnJvbSAiLi4vU2NyZWVuL1Nob3UiOwppbXBvcnQgeyBmYWJyaWMgfSBmcm9tICJmYWJyaWMiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQm90dG9tOiBCb3R0b20sCiAgICBDZWxsOiBDZWxsLAogICAgU2hvdTogU2hvdSwKICAgIGZhYnJpYzogZmFicmljCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgRGlzY291bnQ6IGZhbHNlLAogICAgICBEaXNjb3VudF90ZXh0OiAiIiwKICAgICAgc3R5bGVpZHM6ICIiLAogICAgICBsb2NraW5nOiBmYWxzZSwKICAgICAgY29uOiBmYWxzZSwKICAgICAgdGV4dGFyZWExOiAiIiwKICAgICAgcHJvZHVjdElkOiBudWxsLAogICAgICBpbWdTcmM6ICcnLAogICAgICBpZnJhbWVTcmM6ICcnLAogICAgICBkb3duTG9hZDogZmFsc2UsCiAgICAgIGR1YW46IHRydWUsCiAgICAgIC8vIENvbGxlY3Q6IHRydWUsCiAgICAgIC8vIHN1OiBmYWxzZSwKICAgICAgLy8gcDogbnVsbCwKICAgICAgbGljZW5zZVR5cGU6IDAsCiAgICAgIGxpY2Vuc2VQcmljZTogJycsCiAgICAgIGxpbmVsaXN0OiBbXSwKICAgICAgbGlzdGJ1czogW10sCiAgICAgIGxpc3RidXNzOiBbXSwKICAgICAgY29uc0hlaWdodDogMCwKICAgICAgY29uc0hlaWdodHQ6IDAsCiAgICAgIGNvbnNIZWlnaHRzOiAwLAogICAgICBsaXN0bnVtYmVyOiAwLAogICAgICBpc1JlcGVhdDogMCwKICAgICAgaW1nU2l6ZTogJycsCiAgICAgIHByaW50U2l6ZTE6ICcnLAogICAgICBwcmludFNpemUyOiAnJywKICAgICAgdHlwZXM6IFtdLAogICAgICBjYXRlZ29yaWVzOiBbXSwKICAgICAgdGFnczogW10sCiAgICAgIGFsaWtlTGlzdDogW10sCiAgICAgIGltZzogbnVsbCwKICAgICAgbGFzdE1vZGVsOiBudWxsLAogICAgICBsYXN0UGljOiBudWxsLAogICAgICBtaW5TY2FsZTogNDAwLAogICAgICBtYXhTY2FsZTogNDAwLAogICAgICBjdXJTY2FsZTogMTAwLAogICAgICBwcm9ncmVzczogMCwKICAgICAgcGljQ2FudmFzOiBudWxsLAogICAgICBib3hTaXplOiA2LAogICAgICBjbGlwV2lkdGg6IDYwMCwKICAgICAgLy9jbGlwIOijgeWIh+WHuuadpeeahOaWueWdl+WMuuWfnwogICAgICBjbGlwSGVpZ2h0OiA2MDAsCiAgICAgIC8vY2xpcCDoo4HliIflh7rmnaXnmoTmlrnlnZfljLrln58KICAgICAgaW1nUHhXaWR0aDogbnVsbCwKICAgICAgaW1nUHhIZWlnaHQ6IG51bGwsCiAgICAgIG1vZGVsSWR4OiAnJywKICAgICAgbW9kZWw6IHt9LAogICAgICBtb2RlbExpc3Q6IFtdLAogICAgICAvLyDku47mjqXlj6Pmi7/liLDnmoQg5Zu+5bGC55qE5YiX6KGoCiAgICAgIGNvbnRlbnRfbGlzdF9ib2xsOiBbdHJ1ZSwgZmFsc2UsIGZhbHNlXSwKICAgICAgLy/mjqfliLbmr4/kuIDkuKrpgInpobnnmoTpgInkuK3lkozmmbTnqboKICAgICAgY29udGVlbnRfaW1nOiAiIiwKICAgICAgY29udGVlbnRfaW1nMjogIiIsCiAgICAgIG9udGVudF9kYXRhczogIiIsCiAgICAgIHdoeTogW3JlcXVpcmUoIkAvYXNzZXRzL2ltZy93aHkuc3ZnIiksIHJlcXVpcmUoIkAvYXNzZXRzL2ltZy88LnN2ZyIpXSwKICAgICAgZ3g6IFtyZXF1aXJlKCJAL2Fzc2V0cy9pbWcvZ294LnN2ZyIpLCByZXF1aXJlKCJAL2Fzc2V0cy9pbWcveGluZ3guc3ZnIiksIHJlcXVpcmUoIkAvYXNzZXRzL2ltZy9va3Muc3ZnIildLAogICAgICB3b25kZXI6IHJlcXVpcmUoIkAvYXNzZXRzL2ltZy93b25kZXIucG5nIiksCiAgICAgIHN0YXRlOiBbcmVxdWlyZSgiQC9hc3NldHMvaW1nL3gucG5nIiksIHJlcXVpcmUoIkAvYXNzZXRzL2ltZy9kLnBuZyIpXSwKICAgICAgYWI6IFtyZXF1aXJlKCJAL2Fzc2V0cy9pbWcvYS5wbmciKSwgcmVxdWlyZSgiQC9hc3NldHMvaW1nL2IucG5nIildLAogICAgICBibGFua0ltYWdlOiByZXF1aXJlKCJAL2Fzc2V0cy9pbWcvYmxhbmsuc3ZnIiksCiAgICAgIGt1OiBbcmVxdWlyZSgiQC9hc3NldHMvaW1nL2t1XzEuc3ZnIiksIHJlcXVpcmUoIkAvYXNzZXRzL2ltZy9rdV8yLnN2ZyIpLCByZXF1aXJlKCJAL2Fzc2V0cy9pbWcva3VfNC5zdmciKSwgcmVxdWlyZSgiQC9hc3NldHMvaW1nL2t1XzMuc3ZnIildCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgICckc3RvcmUuc3RhdGUuZm9udFJhdGUnOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7CiAgICAgICAgdGhpcy5jaGFuZ2VTaXplKCk7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG1pczogZnVuY3Rpb24gbWlzKCkgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJhcyIpWzBdLnN0eWxlLnBvc2l0aW9uID0gImFic29sdXRlIjsKICAgIH0sCiAgICBzdWI6IGZ1bmN0aW9uIHN1YigpIHsKICAgICAgaWYgKHRoaXMudGV4dGFyZWExID09ICIiKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UoIkNhbm5vdCBiZSBlbXB0ee+8gSIpOwogICAgICB9CiAgICB9LAogICAgY2xvc2ViOiBmdW5jdGlvbiBjbG9zZWIoKSB7CiAgICAgIHRoaXMuY29uID0gdHJ1ZTsKICAgIH0sCiAgICBjbG9zZWJzOiBmdW5jdGlvbiBjbG9zZWJzKCkgewogICAgICB0aGlzLmNvbiA9IGZhbHNlOwogICAgfSwKICAgIC8v54K55Ye75Y+W5raI5pS26JeP5oyJ6ZKuCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbChpZCkgewogICAgICBjb25zb2xlLmxvZyhpZCk7CiAgICB9LAogICAgLy8g5re75Yqg5Yiw56a757q/6LSt54mp6L2mCiAgICBhZGRPdXRsaW5lQ2FyOiBmdW5jdGlvbiBhZGRPdXRsaW5lQ2FyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBtID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3Nob3BwaW5nX2NhcicpKTsKCiAgICAgIGlmIChtICYmIG0uc29tZShmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnByb2R1Y3RJZCA9PSBfdGhpczIucHJvZHVjdElkOwogICAgICB9KSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoIlByb2R1Y3QgZXhpc3QiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoIW0pIHsKICAgICAgICAgIG0gPSBbXTsKICAgICAgICB9CgogICAgICAgIHZhciBzID0gewogICAgICAgICAgcHJvZHVjdElkOiB0aGlzLnByb2R1Y3RJZCwKICAgICAgICAgIC8v55u05o6l5oqK6L+Z5byg5Zu+55qE5omA5pyJ6K+m57uG5L+h5oGv5L+d5a2Y6LW35p2l77yM5Yiw6LSt54mp6L2m5oiR5Lus5YaN5qC55o2u5oiR5Lus6ZyA6KaB5pi+56S6CiAgICAgICAgICBpbWdUeXBlOiB0aGlzLmxpY2Vuc2VUeXBlLAogICAgICAgICAgLy/mjojmnYPnsbvlnosKICAgICAgICAgIHByb2R1Y3ROdW06IDEKICAgICAgICB9OwogICAgICAgIG0ucHVzaChzKTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc3Nob3BwaW5nX2NhcicsIEpTT04uc3RyaW5naWZ5KG0pKTsKICAgICAgICB0aGlzLm9udGVudF9kYXRhcy5pc0J1eSA9IDE7CiAgICAgICAgdGhpcy5sb2NraW5nID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICAvLyDmt7vliqDliLDotK3nianovaYKICAgIGFkZFNob3BpbmdDYXI6IGZ1bmN0aW9uIGFkZFNob3BpbmdDYXIoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgaWYgKHZtLmxvY2tpbmcpIHJldHVybjsKICAgICAgdm0ubG9ja2luZyA9IHRydWU7CiAgICAgIGd0YWcoJ2V2ZW50JywgJ2FkZF90b19jYXJ0JywgewogICAgICAgIGN1cnJlbmN5OiAnVVNEJywKICAgICAgICBpdGVtczogW3sKICAgICAgICAgIGl0ZW1faWQ6IHRoaXMub250ZW50X2RhdGFzLnByb2R1Y3RJZCwKICAgICAgICAgIGl0ZW1fbmFtZTogdGhpcy5vbnRlbnRfZGF0YXMuaW1nU24sCiAgICAgICAgICBwcmljZTogdGhpcy5saWNlbnNlUHJpY2UsCiAgICAgICAgICBjdXJyZW5jeTogJ1VTRCcsCiAgICAgICAgICBxdWFudGl0eTogMQogICAgICAgIH1dLAogICAgICAgIHZhbHVlOiB0aGlzLmxpY2Vuc2VQcmljZQogICAgICB9KTsgLy8g6aaW5YWI5Yik5pat5LiA5LiL55So5oi35pyJ5rKh5pyJ55m76ZmGCgogICAgICBpZiAoIWxvY2FsU3RvcmFnZS51c2VyKSB7CiAgICAgICAgLy8g5rKh5pyJ55m76ZmG55qE5pe25YCZ5bCG6LSt54mp6L2m5L+h5oGv5a2Y5Yiw5pys5Zyw55qEIGxvY2FsU3RvcmFnZS5zaG9wcGluZ19jYXLlvZPkuK0KICAgICAgICAvLyDpppbpgInliKTmlq3kuIDkuItsb2NhbFN0b3JhZ2Uuc2hvcHBpbmdfY2Fy5pyJ5rKh5pyJ5aOw5piOCiAgICAgICAgdGhpcy5hZGRPdXRsaW5lQ2FyKCk7IC8vIGNvbnNvbGUubG9nKEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NzaG9wcGluZ19jYXInKSkpOwogICAgICAgIC8vIHRoaXMuQmFnID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5ycSh7CiAgICAgICAgICB1cmw6ICIvYXBpL2NhcnQvc2F2ZSIsCiAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgIHBhcmFtOiB7CiAgICAgICAgICAgIHByb2R1Y3RJZDogdGhpcy5vbnRlbnRfZGF0YXMucHJvZHVjdElkLAogICAgICAgICAgICBpbWdUeXBlOiB0aGlzLmxpY2Vuc2VUeXBlCiAgICAgICAgICB9LAogICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gb25FcnJvcigpIHsKICAgICAgICAgICAgdm0ubG9ja2luZyA9IGZhbHNlOwogICAgICAgICAgfSwKICAgICAgICAgIHZtOiB2bQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHJlcy5jb2RlID09IDIwMCkgewogICAgICAgICAgICAvLyB0aGlzLiRtZXNzYWdlKCLmt7vliqDmiJDlip8iKTsKICAgICAgICAgICAgaWYgKCFyZXMudXNlcikgewogICAgICAgICAgICAgIHZtLmFkZE91dGxpbmVDYXIoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB2bS5vbnRlbnRfZGF0YXMuaXNCdXkgPSAxOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5jb2RlID09IDYwMSB8fCByZXMuY29kZSA9PSA2ODApIHsKICAgICAgICAgICAgdm0uYWRkT3V0bGluZUNhcigpOyAvLyAgIHRoaXMuQmFnID0gZmFsc2U7CiAgICAgICAgICAgIC8vIHRoaXMuJHN0b3JlLnN0YXRlLmxvZ2luID0gdHJ1ZTsKICAgICAgICAgICAgLy8gdGhpcy4kc3RvcmUuc3RhdGUubG9naW5zID0gdHJ1ZQogICAgICAgICAgICAvLyB0aGlzLiRzdG9yZS5zdGF0ZS5Gb3JnZXRQd2QgPSBmYWxzZQogICAgICAgICAgICAvLyB0aGlzLiRzdG9yZS5zdGF0ZS5TaWduID0gZmFsc2UKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZShyZXMuZGVzYyk7IC8vCgogICAgICAgICAgfQoKICAgICAgICAgIHZtLmxvY2tpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGdvdG9TaG9waW5nQ2FyOiBmdW5jdGlvbiBnb3RvU2hvcGluZ0NhcigpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9zaG9wcGluZ2NhciIpOwogICAgfSwKICAgIHNob3U6IGZ1bmN0aW9uIHNob3UocGQpIHsKICAgICAgdGhpcy4kcmVmcy5zaG91LnNob3UocGQpOwogICAgfSwKICAgIGRldGFpbHM6IGZ1bmN0aW9uIGRldGFpbHMoYSwgYikgewogICAgICB2YXIgcm91dGVVcmwgPSB0aGlzLiRyb3V0ZXIucmVzb2x2ZSh7CiAgICAgICAgcGF0aDogIi9kZXRhaWwvIiArIGEKICAgICAgfSk7CiAgICAgIHdpbmRvdy5vcGVuKHJvdXRlVXJsLmhyZWYsICJfc2VsZiIpOwogICAgfSwKICAgIHRoaXNEb3dubG9hZDogZnVuY3Rpb24gdGhpc0Rvd25sb2FkKHBkKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIF90aGlzLnJxKHsKICAgICAgICB1cmw6ICIvYXBpL3Byb2R1Y3QvZG93blVybCIsCiAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgcGFyYW06IHsKICAgICAgICAgIGlkOiBfdGhpcy5vbnRlbnRfZGF0YXMucHJvZHVjdElkCiAgICAgICAgfSwKICAgICAgICBvbkVycm9yOiBmdW5jdGlvbiBvbkVycm9yKCkge30sCiAgICAgICAgX3RoaXM6IF90aGlzCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuY29kZSA9PSAyMDApIHsKICAgICAgICAgIC8vIHRoaXMuJG1lc3NhZ2UoIua3u+WKoOaIkOWKnyIpOwogICAgICAgICAgcmVzLmRhdGEgPSByZXMuZGF0YS5yZXBsYWNlKCdodHRwOicsICdodHRwczonKTsKICAgICAgICAgIHZhciByZWcgPSAvXC4oXHcqPylcPy87CiAgICAgICAgICB2YXIgZXh0ID0gcmVnLmV4ZWMocmVzLmRhdGEpWzFdOwoKICAgICAgICAgIGlmICgnemlwJyA9PSBleHQudG9Mb3dlckNhc2UoKSkgewogICAgICAgICAgICB2YXIgZWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgICAgICBlbGUuc2V0QXR0cmlidXRlKCdocmVmJywgcmVzLmRhdGEpOyAvL+iuvue9ruS4i+i9veaWh+S7tueahHVybOWcsOWdgAoKICAgICAgICAgICAgZWxlLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCBfdGhpcy5vbnRlbnRfZGF0YXMuaW1nU24gKyAnLicgKyBleHQpOyAvL+eUqOS6juiuvue9ruS4i+i9veaWh+S7tueahOaWh+S7tuWQjQoKICAgICAgICAgICAgZWxlLnNldEF0dHJpYnV0ZSgidGFyZ2V0IiwgIl9zZWxmIik7CiAgICAgICAgICAgIGVsZS5jbGljaygpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZG93bmxvYWQoX3RoaXMsIHJlcy5kYXRhLCBfdGhpcy5vbnRlbnRfZGF0YXMuaW1nU24gKyAnLicgKyBleHQpOwogICAgICAgICAgfSAvLyBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgICAvLyB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InOwogICAgICAgICAgLy8geGhyLm9wZW4oJ0dFVCcsIHJlcy5kYXRhLCB0cnVlKTsKICAgICAgICAgIC8vIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpewogICAgICAgICAgLy8gICAgIGxldCByZXMxID0geGhyLnJlc3BvbnNlOwogICAgICAgICAgLy8gICAgIGlmKHJlczEpewogICAgICAgICAgLy8gICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICAgICAgLy8gICAgICAgICBsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHJlczEpOwogICAgICAgICAgLy8gICAgICAgICBsaW5rLmRvd25sb2FkID0gX3RoaXMub250ZW50X2RhdGFzLmltZ1NuICsgJy4nICsgZXh0OwogICAgICAgICAgLy8gICAgICAgICBsaW5rLmNsaWNrKCk7CiAgICAgICAgICAvLyAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwobGluay5ocmVmKTsKICAgICAgICAgIC8vICAgICB9CiAgICAgICAgICAvLyB9CiAgICAgICAgICAvLyB4aHIuc2VuZCgpOwoKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXM0LiRtZXNzYWdlKHJlcy5kZXNjKTsgLy8KCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjaGFuZ2VTaXplOiBmdW5jdGlvbiBjaGFuZ2VTaXplKCkgewogICAgICBpZiAodGhpcy5saXN0YnVzcyAhPSBudWxsICYmIHRoaXMubGlzdGJ1c3MubGVuZ3RoID4gMCkgc29ydGluZ19saXN0KHRoaXMucCwgdGhpcyk7CiAgICAgIHRoaXMuY2xpcFdpZHRoID0gdGhpcy5jbGlwSGVpZ2h0ID0gNiAqIHRoaXMuJHN0b3JlLnN0YXRlLmZvbnRSYXRlOwogICAgfSwKICAgIHNlbGVjdEFsaWtlQnlJZDogZnVuY3Rpb24gc2VsZWN0QWxpa2VCeUlkKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIC8vIHRoaXMubGluZWxpc3Q9bnVsbDsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdGhpcy5ycSh7CiAgICAgICAgdXJsOiAiL2FwaS9wcm9kdWN0L3NlbGVjdEFsaWtlQnlJZCIsCiAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgcGFyYW06IHsKICAgICAgICAgIHByb2R1Y3RJZDogdm0ucHJvZHVjdElkCiAgICAgICAgfSwKICAgICAgICBvbkVycm9yOiBmdW5jdGlvbiBvbkVycm9yKCkge30sCiAgICAgICAgdm06IG51bGwKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5jb2RlID09IDIwMCkgewogICAgICAgICAgdm0ubGlzdGJ1c3MgPSByZXMuZGF0YTsKCiAgICAgICAgICBpZiAodm0ubGlzdGJ1c3MgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIF90aGlzNS5saW5lbGlzdCA9IG51bGw7CiAgICAgICAgICAgIF90aGlzNS5jb25zSGVpZ2h0dCA9IDA7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyAgIOiOt+WPluWuveW6pgogICAgICAgICAgICB2bS5jb25zSGVpZ2h0dCA9IHNvcnRpbmdfbGlzdCh2bS5saXN0YnVzcywgdm0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLwogICAgICAgICAgX3RoaXM1LiRtZXNzYWdlKHJlcy5kZXNjKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGlidXM6IGZ1bmN0aW9uIGlidXMoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdGhpcy5ycSh7CiAgICAgICAgdXJsOiAiL2FwaS9wcm9kdWN0L3NlbGVjdEJlc3RTZWxsZXJCeVRhZ0lkIiwKICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICBwYXJhbTogewogICAgICAgICAgdGFnSWRzOiB2bS5zdHlsZWlkcwogICAgICAgIH0sCiAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gb25FcnJvcigpIHt9LAogICAgICAgIHZtOiBudWxsCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuY29kZSA9PSAyMDApIHsKICAgICAgICAgIHZtLmxpc3RidXMgPSByZXMuZGF0YTsKCiAgICAgICAgICBpZiAodm0ubGlzdGJ1cyA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgX3RoaXM2LmxpbmVsaXN0ID0gbnVsbDsKICAgICAgICAgICAgX3RoaXM2LmNvbnNIZWlnaHRzID0gMDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vICAg6I635Y+W5a695bqmCiAgICAgICAgICAgIHZtLmNvbnNIZWlnaHRzID0gc29ydGluZ19saXN0KHZtLmxpc3RidXMsIHZtKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8KICAgICAgICAgIF90aGlzNi4kbWVzc2FnZShyZXMuZGVzYyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjb250ZW50X2xpc3RfYm9vbHM6IGZ1bmN0aW9uIGNvbnRlbnRfbGlzdF9ib29scyhhKSB7CiAgICAgIHRoaXMubGljZW5zZVR5cGUgPSBhOwogICAgICB0aGlzLmNhbGNQcmljZSgpOwogICAgfSwKICAgIGNhbmRpZGF0ZV9jbGljazogZnVuY3Rpb24gY2FuZGlkYXRlX2NsaWNrKHNyYykgewogICAgICBpZiAodGhpcy5jb250ZWVudF9pbWcyID09ICIiKSB7CiAgICAgICAgLy8g6aaW5YWI5bCGY29udGVudOWbvueJh+e7mSDml4HovrnnmoTlsI/lm77niYcKICAgICAgICB0aGlzLmNvbnRlZW50X2ltZzIgPSB0aGlzLmNvbnRlZW50X2ltZzsKICAgICAgfQoKICAgICAgdGhpcy5jb250ZWVudF9pbWcgPSBzcmM7CiAgICB9LAogICAgLy8g5bCP5Zu+54mH5ZKM5aSn5Zu+54mH55qE5ZG85ZSk8J+RiAogICAgY29udGVudF9pbWcyX2NsaWNrOiBmdW5jdGlvbiBjb250ZW50X2ltZzJfY2xpY2soKSB7CiAgICAgIC8vIOWjsOaYjuS4gOS4quWPmOmHj++8jOS9nOS4uuS4tOaXtuaVsOaNruWtmOaUvgogICAgICB2YXIgSW1nTWF4U3JjID0gdGhpcy5jb250ZWVudF9pbWc7CiAgICAgIHRoaXMuY29udGVlbnRfaW1nID0gdGhpcy5jb250ZWVudF9pbWcyOwogICAgICB0aGlzLmNvbnRlZW50X2ltZzIgPSBJbWdNYXhTcmM7CiAgICB9LAogICAgY2FsY1ByaWNlOiBmdW5jdGlvbiBjYWxjUHJpY2UoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgbGljZW5zZVR5cGUgPSBfdGhpcy5saWNlbnNlVHlwZTsKICAgICAgdmFyIHByaWNlID0gX3RoaXMub250ZW50X2RhdGFzLnByaWNlOwogICAgICB2YXIgcHJpY2VPbmNlID0gX3RoaXMub250ZW50X2RhdGFzLnByaWNlT25jZTsKCiAgICAgIGlmIChsaWNlbnNlVHlwZSA9PSAzKSB7CiAgICAgICAgX3RoaXMubGljZW5zZVByaWNlID0gcHJpY2VPbmNlOwogICAgICB9IGVsc2UgaWYgKGxpY2Vuc2VUeXBlID09IDUpIHsKICAgICAgICBfdGhpcy5saWNlbnNlUHJpY2UgPSBwcmljZTsKICAgICAgfSBlbHNlIGlmIChsaWNlbnNlVHlwZSA9PSA0KSB7CiAgICAgICAgX3RoaXMubGljZW5zZVByaWNlID0gTWF0aC5yb3VuZChwcmljZSAqIDAuNzUgKiAxMDApIC8gMTAwOwogICAgICB9IGVsc2UgaWYgKGxpY2Vuc2VUeXBlID09IDEpIHsKICAgICAgICBfdGhpcy5saWNlbnNlUHJpY2UgPSBNYXRoLnJvdW5kKHByaWNlICogMC41ICogMTAwKSAvIDEwMDsKICAgICAgfQogICAgfSwKICAgIGxvYWRTaW1wbGVQcm9kdWN0OiBmdW5jdGlvbiBsb2FkU2ltcGxlUHJvZHVjdCgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB0aGlzLnJxKHsKICAgICAgICB1cmw6ICIvYXBpL3Byb2R1Y3Qvc2VsZWN0QnlJZCIsCiAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgcGFyYW06IHsKICAgICAgICAgIHByb2R1Y3RJZDogdm0ucHJvZHVjdElkCiAgICAgICAgfSwKICAgICAgICBvbkVycm9yOiBmdW5jdGlvbiBvbkVycm9yKCkge30sCiAgICAgICAgdm06IHZtCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuY29kZSA9PSAyMDApIHsKICAgICAgICAgIHZtLm1vZGVsTGlzdFswXS5zb3VyY2VJbWdTcmMgPSByZXMuZGF0YS5jb3ZlcjsKICAgICAgICAgIHZtLm1vZGVsTGlzdFswXS5pbWdTcmMgPSB2bS5tb2RlbExpc3RbMF0uc291cmNlSW1nU3JjLnJlcGxhY2UoJy9qLycsICcvYi8nKTsKICAgICAgICAgIHZtLmltZ1NyYyA9IHZtLm1vZGVsTGlzdFswXS5zb3VyY2VJbWdTcmM7CiAgICAgICAgICB2bS5zZWxlY3RNb2RlbCgwKTsKICAgICAgICAgIHZtLm9udGVudF9kYXRhcyA9IHJlcy5kYXRhOwogICAgICAgICAgdm0uY29udGVlbnRfaW1nID0gdm0uJGltZ1NlcnZlciArIHJlcy5kYXRhLmNvdmVyOyAvLyDpppblhYjliKTmlq3nlKjmiLfmmK/lkKbnmbvpmYYKCiAgICAgICAgICBpZiAocmVzLnVzZXIgJiYgcmVzLnVzZXIuaWQpIHt9IGVsc2UgewogICAgICAgICAgICB2YXIgbSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NzaG9wcGluZ19jYXInKSk7CgogICAgICAgICAgICBpZiAobSAmJiBtLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICBpZiAobS5zb21lKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5wcm9kdWN0SWQgPT0gdm0ucHJvZHVjdElkOwogICAgICAgICAgICAgIH0pKSB7CiAgICAgICAgICAgICAgICB2bS5vbnRlbnRfZGF0YXMuaXNCdXkgPSAxOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmICh2bS5vbnRlbnRfZGF0YXMuaXNVc2UgPiAwKSB7CiAgICAgICAgICAgIHZtLmxpY2Vuc2VUeXBlID0gNTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZtLmxpY2Vuc2VUeXBlID0gMzsKICAgICAgICAgIH0gLy8g5Y+v5Lul5Lmw5patCgoKICAgICAgICAgIGlmICh2bS5vbnRlbnRfZGF0YXMuaXNCdXlvdXQgPT0gMSkgewogICAgICAgICAgICB2bS5saWNlbnNlVHlwZSA9IDM7CiAgICAgICAgICB9CgogICAgICAgICAgdm0uY2FsY1ByaWNlKCk7CgogICAgICAgICAgaWYgKHJlcy5kYXRhLmltZ1NpemUpIHsKICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmltZ1NpemUgPT0gJ+efoumHj+WbvicpIHsKICAgICAgICAgICAgICB2bS5pbWdTaXplID0gJ1ZlY3RvciBpbWFnZSc7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdmFyIHdwID0gMzAwLAogICAgICAgICAgICAgICAgICBocCA9IDMwMDsKICAgICAgICAgICAgICB2YXIgdyA9ICcnLAogICAgICAgICAgICAgICAgICBoID0gJycsCiAgICAgICAgICAgICAgICAgIGltZ1NpemUsCiAgICAgICAgICAgICAgICAgIHdoOwoKICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuaW1nU2l6ZS5pbmRleE9mKCdjbScpID49IDApIHsKICAgICAgICAgICAgICAgIGltZ1NpemUgPSByZXMuZGF0YS5pbWdTaXplLnJlcGxhY2UoJ2NtJywgJycpOwogICAgICAgICAgICAgICAgaW1nU2l6ZSA9IGltZ1NpemUucmVwbGFjZSgnY20nLCAnJyk7CiAgICAgICAgICAgICAgICB3aCA9IGltZ1NpemUuc3BsaXQoIioiKTsKCiAgICAgICAgICAgICAgICBpZiAod2hbMF0pIHsKICAgICAgICAgICAgICAgICAgdyA9IE1hdGgucm91bmQod2hbMF0gLyAyNTQgKiAxMDAgKiB3cCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKHdoWzFdKSB7CiAgICAgICAgICAgICAgICAgIGggPSBNYXRoLnJvdW5kKHdoWzFdIC8gMjU0ICogMTAwICogd3ApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpbWdTaXplID0gcmVzLmRhdGEuaW1nU2l6ZS5yZXBsYWNlKCflg4/ntKAnLCAnJyk7CiAgICAgICAgICAgICAgICBpbWdTaXplID0gaW1nU2l6ZS5yZXBsYWNlKCflg4/ntKAnLCAnJyk7CiAgICAgICAgICAgICAgICB3aCA9IGltZ1NpemUuc3BsaXQoIioiKTsKICAgICAgICAgICAgICAgIHcgPSB3aFswXTsKICAgICAgICAgICAgICAgIGggPSB3aFsxXTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmICh3ICYmIGgpIHsKICAgICAgICAgICAgICAgIHZtLmltZ1NpemUgPSB3ICsgJyonICsgaDsKICAgICAgICAgICAgICAgIHZhciB3MyA9ICcnLAogICAgICAgICAgICAgICAgICAgIHc2ID0gJycsCiAgICAgICAgICAgICAgICAgICAgaDMgPSAnJywKICAgICAgICAgICAgICAgICAgICBoNiA9ICcnOwoKICAgICAgICAgICAgICAgIGlmICh3KSB7CiAgICAgICAgICAgICAgICAgIHczID0gTWF0aC5yb3VuZCh3ICogMjU0IC8gMzAwKSAvIDEwMDsKICAgICAgICAgICAgICAgICAgdzYgPSBNYXRoLnJvdW5kKHcgKiAyNTQgLyA2MDApIC8gMTAwOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChoKSB7CiAgICAgICAgICAgICAgICAgIGgzID0gTWF0aC5yb3VuZChoICogMjU0IC8gMzAwKSAvIDEwMDsKICAgICAgICAgICAgICAgICAgaDYgPSBNYXRoLnJvdW5kKGggKiAyNTQgLyA2MDApIC8gMTAwOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHZtLnByaW50U2l6ZTEgPSB3MyArICcqJyArIGgzICsgJ2NtKDMwMGRwaSknOwogICAgICAgICAgICAgICAgdm0ucHJpbnRTaXplMiA9IHc2ICsgJyonICsgaDYgKyAnY20oNjAwZHBpKSc7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZtLmltZ1NpemUgPSByZXMuZGF0YS5pbWdTaXplOwogICAgICAgICAgICAgICAgdm0ucHJpbnRTaXplMSA9ICcnOwogICAgICAgICAgICAgICAgdm0ucHJpbnRTaXplMiA9ICcnOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdm0uaW1nU2l6ZSA9ICcnOwogICAgICAgICAgICB2bS5wcmludFNpemUxID0gJyc7CiAgICAgICAgICAgIHZtLnByaW50U2l6ZTIgPSAnJzsKICAgICAgICAgIH0KCiAgICAgICAgICB2bS5sb2FkUHJvZHVjdChyZXMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLwogICAgICAgICAgX3RoaXM3LiRtZXNzYWdlKHJlcy5kZXNjKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGxvYWRQcm9kdWN0OiBmdW5jdGlvbiBsb2FkUHJvZHVjdChyZXMpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdm0udHlwZXMgPSBbXTsKICAgICAgdm0ub250ZW50X2RhdGFzLmlzUmVwZWF0ID0gMDsKICAgICAgdm0ub250ZW50X2RhdGFzLmlzTGF5ZXIgPSAwOwogICAgICB2bS5zdHlsZWlkcyA9IHJlcy5kYXRhLnN0eWxlSWQ7CiAgICAgIHZtLmlidXMoKTsKICAgICAgcmVzLmRhdGEuc3R5bGVTdHIuc3BsaXQoJywnKS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0gIT0gJycpIHsKICAgICAgICAgIHZtLnR5cGVzLnB1c2goaXRlbSk7CgogICAgICAgICAgaWYgKGl0ZW0gPT0gJ0luIFJlcGVhdCcgfHwgaXRlbSA9PSAnQ3ljbGljIGdyYXBoJykgewogICAgICAgICAgICB2bS5vbnRlbnRfZGF0YXMuaXNSZXBlYXQgPSAxOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChpdGVtLmluZGV4T2YoJ1NpbXBsZSBsYXllcmVkJykgPj0gMCB8fCBpdGVtID09ICdMYXllcmVkIGZpbGUnIHx8IGl0ZW0gPT0gJ0NvbG9yIHNlcGFyYXRpb24nKSB7CiAgICAgICAgICAgIHZtLm9udGVudF9kYXRhcy5pc0xheWVyID0gMTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICB2bS5vbnRlbnRfZGF0YXMudGFncyA9IHJlcy5kYXRhLnRhZ3M7CiAgICAgIHZtLmlzUmVwZWF0ID0gcmVzLmRhdGEuaXNSZXBlYXQ7CiAgICAgIHZtLmNhdGVnb3JpZXMgPSBbXTsKICAgICAgcmVzLmRhdGEucHJvZHVjdEZpY2F0aW9uU3RyLnNwbGl0KCcsJykuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGlmIChpdGVtICE9ICcnKSB2bS5jYXRlZ29yaWVzLnB1c2goaXRlbSk7CiAgICAgIH0pOwogICAgICB2bS50YWdzID0gW107CiAgICAgIHJlcy5kYXRhLmxhYmVsLnNwbGl0KCcsJykuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGlmIChpdGVtICE9ICcnKSB2bS50YWdzLnB1c2goaXRlbSk7CiAgICAgIH0pOwogICAgICByZXMuZGF0YS5lbnRpdHlTdHIuc3BsaXQoJywnKS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0gIT0gJycpIHZtLnRhZ3MucHVzaChpdGVtKTsKICAgICAgfSk7CiAgICAgIHJlcy5kYXRhLnNjZW5lU3RyLnNwbGl0KCcsJykuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGlmIChpdGVtICE9ICcnKSB2bS50YWdzLnB1c2goaXRlbSk7CiAgICAgIH0pOwogICAgICByZXMuZGF0YS5zZWFzb25TdHIuc3BsaXQoJywnKS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0gIT0gJycpIHZtLnRhZ3MucHVzaChpdGVtKTsKICAgICAgfSk7CiAgICAgIHJlcy5kYXRhLmZhc2hpb25TdHIuc3BsaXQoJywnKS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0gIT0gJycpIHZtLnRhZ3MucHVzaChpdGVtKTsKICAgICAgfSk7IC8vIHZtLmNvbnRlZW50X2ltZyA9IHZtLiRpbWdTZXJ2ZXIgKyByZXMuZGF0YS5jb3ZlcjsKCiAgICAgIHZtLnNlbGVjdEFsaWtlQnlJZCgpOwogICAgfSwKICAgIHN3aXRjaFBpYzogZnVuY3Rpb24gc3dpdGNoUGljKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgX3RoaXMubW9kZWwgPSBfdGhpcy5sYXN0UGljOwoKICAgICAgX3RoaXMubW9kZWxMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGlkeCkgewogICAgICAgIGlmIChpdGVtLmlkID09IF90aGlzLm1vZGVsLmlkKSB7CiAgICAgICAgICBfdGhpcy5tb2RlbElkeCA9IGlkeDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHN3aXRjaE1vZGVsOiBmdW5jdGlvbiBzd2l0Y2hNb2RlbCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIF90aGlzLm1vZGVsID0gX3RoaXMubGFzdE1vZGVsOwoKICAgICAgX3RoaXMubW9kZWxMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGlkeCkgewogICAgICAgIGlmIChpdGVtLmlkID09IF90aGlzLm1vZGVsLmlkKSB7CiAgICAgICAgICBfdGhpcy5tb2RlbElkeCA9IGlkeDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNlbGVjdE1vZGVsOiBmdW5jdGlvbiBzZWxlY3RNb2RlbChpbmRleCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgX3RoaXMubW9kZWwgPSBfdGhpcy5tb2RlbExpc3RbaW5kZXhdOwogICAgICBfdGhpcy5tb2RlbElkeCA9IGluZGV4OwoKICAgICAgaWYgKGluZGV4ID09PSAwKSB7CiAgICAgICAgX3RoaXMubWF4U2NhbGUgPSA0MDA7CiAgICAgICAgX3RoaXMubWluU2NhbGUgPSAyMDsKICAgICAgICBfdGhpcy5sYXN0UGljID0gX3RoaXMubW9kZWw7CiAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IDEpIHsKICAgICAgICBfdGhpcy5tYXhTY2FsZSA9IDIwMDsKICAgICAgICBfdGhpcy5taW5TY2FsZSA9IDIwOwogICAgICAgIF90aGlzLmxhc3RQaWMgPSBfdGhpcy5tb2RlbDsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBfdGhpcy5pZnJhbWVTcmM9Jy9za2V0Y2gvJytfdGhpcy5wcm9kdWN0SWQrJz9pbWc9JytlbmNvZGVVUklDb21wb25lbnQoX3RoaXMuaW1nU3JjKQogICAgICAgIC8vICAgICArJyZtb2RlbGk9JytfdGhpcy5tb2RlbElkeCsnJmZvbnRSYXRlPScrX3RoaXMuJHN0b3JlLnN0YXRlLmZvbnRSYXRlOwogICAgICAgIF90aGlzLmlmcmFtZVNyYyA9ICdodHRwczovL3d3dy5wYXR0ZXJuYnV5LmNvbS9za2V0Y2gvP2ltZz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KF90aGlzLmltZ1NyYykgKyAnJm1vZGVsaT0nICsgX3RoaXMubW9kZWxJZHggKyAnJmZvbnRSYXRlPScgKyBfdGhpcy4kc3RvcmUuc3RhdGUuZm9udFJhdGU7CiAgICAgICAgY29uc29sZS5sb2coX3RoaXMuaWZyYW1lU3JjKTsKICAgICAgICBfdGhpcy5sYXN0TW9kZWwgPSBfdGhpcy5tb2RlbDsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIF90aGlzLmN1clNjYWxlID0gMTAwOwoKICAgICAgaWYgKF90aGlzLm1vZGVsLmltZyA9PSBudWxsKSB7CiAgICAgICAgaWYgKF90aGlzLm1vZGVsSWR4ID09IDApIHsKICAgICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTsKICAgICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoImNyb3NzT3JpZ2luIiwgImFub255bW91cyIpOwogICAgICAgICAgaW1nLnNyYyA9IF90aGlzLm1vZGVsLnNvdXJjZUltZ1NyYzsKCiAgICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy5tb2RlbC5pbWcgPSBpbWc7CiAgICAgICAgICAgIF90aGlzLm1vZGVsLmltZ1B4V2lkdGggPSBpbWcud2lkdGg7CiAgICAgICAgICAgIF90aGlzLm1vZGVsLmltZ1B4SGVpZ2h0ID0gaW1nLmhlaWdodDsgLy8g5Yik5patIOWbvueJh+eahOWuveW6puWSjOmrmOW6puWTquS4quabtOWAvOabtOWkpwoKICAgICAgICAgICAgaWYgKF90aGlzLm1vZGVsLmltZ1B4V2lkdGggPiBfdGhpcy5tb2RlbC5pbWdQeEhlaWdodCkgewogICAgICAgICAgICAgIF90aGlzLm1vZGVsLmZhYnJpY1NjYWxlID0gX3RoaXMuY2xpcFdpZHRoIC8gX3RoaXMubW9kZWwuaW1nUHhXaWR0aDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpcy5tb2RlbC5mYWJyaWNTY2FsZSA9IF90aGlzLmNsaXBIZWlnaHQgLyBfdGhpcy5tb2RlbC5pbWdQeEhlaWdodDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX3RoaXMuc2hvd0ltYWdlKF90aGlzLm1vZGVsKTsKCiAgICAgICAgICAgIF90aGlzLmluaXRJbWFnZTkoKTsKICAgICAgICAgIH07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLmluaXRJbWFnZTkoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy5zaG93SW1hZ2UoX3RoaXMubW9kZWwpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIF90aGlzLnNob3dJbWFnZShfdGhpcy5tb2RlbCk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDlm77niYflnKjoh6rpgILlupTlkozljp/lsLrlr7jkuYvpl7TovazmjaLnmoQg5Ye95pWw5bCB6KOFCiAgICBzaG93SW1hZ2U6IGZ1bmN0aW9uIHNob3dJbWFnZShtb2RlbCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgX3RoaXMuY3VyU2NhbGUgPSAxMDA7CiAgICAgIHZhciBvcHQgPSB7CiAgICAgICAgaGFzQ29udHJvbHM6IGZhbHNlLAogICAgICAgIHNjYWxlWDogbW9kZWwuZmFicmljU2NhbGUsCiAgICAgICAgc2NhbGVZOiBtb2RlbC5mYWJyaWNTY2FsZSwKICAgICAgICBhbmdsZTogMCwKICAgICAgICBvcmlnaW5YOiAiY2VudGVyIiwKICAgICAgICBvcmlnaW5ZOiAiY2VudGVyIiwKICAgICAgICB0b3A6IF90aGlzLmNsaXBXaWR0aCAvIDIsCiAgICAgICAgbGVmdDogX3RoaXMuY2xpcEhlaWdodCAvIDIKICAgICAgfTsKICAgICAgdmFyIG9pbWcgPSBuZXcgZmFicmljLkltYWdlKG1vZGVsLmltZywgb3B0KTsKCiAgICAgIHZhciBvYmogPSBfdGhpcy5waWNDYW52YXMuZ2V0T2JqZWN0cygpOwoKICAgICAgb2JqLmZvckVhY2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLnBpY0NhbnZhcy5yZW1vdmUocmVzKTsKICAgICAgfSk7CgogICAgICBfdGhpcy5waWNDYW52YXMuYWRkKG9pbWcpOwogICAgfSwKICAgIGluaXRJbWFnZTk6IGZ1bmN0aW9uIGluaXRJbWFnZTkoY2FsbGJhY2spIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBtb2RlbCA9IF90aGlzLm1vZGVsTGlzdFsxXTsKICAgICAgdmFyIG1vZGVsMCA9IF90aGlzLm1vZGVsTGlzdFswXTsKICAgICAgdmFyIHd3ID0gX3RoaXMuY2xpcFdpZHRoLAogICAgICAgICAgaGggPSB3dyAqIG1vZGVsMC5pbWdQeEhlaWdodCAvIG1vZGVsMC5pbWdQeFdpZHRoOwogICAgICB2YXIgeCA9IDM7CiAgICAgIHZhciB5ID0gMzsKICAgICAgdmFyIGN2cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpOwogICAgICBjdnMud2lkdGggPSB3dyAqIHg7CiAgICAgIGN2cy5oZWlnaHQgPSBoaCAqIHk7CiAgICAgIHZhciBjdHggPSBjdnMuZ2V0Q29udGV4dCgiMmQiKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeDsgaSsrKSB7CiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB5OyBqKyspIHsKICAgICAgICAgIGN0eC5kcmF3SW1hZ2UobW9kZWwwLmltZywgaSAqIHd3LCBqICogaGgsIHd3LCBoaCk7CiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgaW1nU3JjID0gY3ZzLnRvRGF0YVVSTCgiaW1hZ2UvcG5nIik7CiAgICAgIF90aGlzLm1vZGVsTGlzdFsxXS5pbWdTcmMgPSBpbWdTcmM7CiAgICAgIF90aGlzLm1vZGVsTGlzdFsxXS5zb3VyY2VJbWdTcmMgPSBpbWdTcmM7CiAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTsKICAgICAgaW1nLnNldEF0dHJpYnV0ZSgiY3Jvc3NPcmlnaW4iLCAiYW5vbnltb3VzIik7CiAgICAgIGltZy5zcmMgPSBpbWdTcmM7CgogICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgIG1vZGVsLmltZyA9IGltZzsKICAgICAgICBtb2RlbC5pbWdQeFdpZHRoID0gaW1nLndpZHRoOwogICAgICAgIG1vZGVsLmltZ1B4SGVpZ2h0ID0gaW1nLmhlaWdodDsgLy8g5Yik5patIOWbvueJh+eahOWuveW6puWSjOmrmOW6puWTquS4quabtOWAvOabtOWkpwoKICAgICAgICBpZiAobW9kZWwuaW1nUHhXaWR0aCA+IG1vZGVsLmltZ1B4SGVpZ2h0KSB7CiAgICAgICAgICBtb2RlbC5mYWJyaWNTY2FsZSA9IF90aGlzLmNsaXBXaWR0aCAvIG1vZGVsLmltZ1B4V2lkdGg7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG1vZGVsLmZhYnJpY1NjYWxlID0gX3RoaXMuY2xpcEhlaWdodCAvIG1vZGVsLmltZ1B4SGVpZ2h0OwogICAgICAgIH0KCiAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpOwogICAgICB9OwogICAgfSwKICAgIC8vIHNsaWRlciBjaGFuZ2Xkuovku7YKICAgIHNsaWRlcklucHV0OiBmdW5jdGlvbiBzbGlkZXJJbnB1dCh2KSB7CiAgICAgIGNvbnNvbGUubG9nKCdpbnB1dCcpOwoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmIChfdGhpcy5tb2RlbElkeCA8PSAxKSB7CiAgICAgICAgX3RoaXMuc2xpZGVySGFuZGxlcih2KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH0sCiAgICBzbGlkZXJDaGFuZ2U6IGZ1bmN0aW9uIHNsaWRlckNoYW5nZSh2KSB7CiAgICAgIGNvbnNvbGUubG9nKCdjaGFuZ2UnKTsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoX3RoaXMubW9kZWxJZHggPD0gMSkgewogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICBfdGhpcy5zbGlkZXJIYW5kbGVyKHYpOwogICAgICB9CiAgICB9LAogICAgc2xpZGVySGFuZGxlcjogZnVuY3Rpb24gc2xpZGVySGFuZGxlcih2KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoX3RoaXMubW9kZWxJZHggPD0gMSkgewogICAgICAgIHZhciB6cG9pbnQgPSBuZXcgZmFicmljLlBvaW50KF90aGlzLmNsaXBXaWR0aCAvIDIsIF90aGlzLmNsaXBIZWlnaHQgLyAyKTsgLy8g5Lit5b+D54K5CgogICAgICAgIGlmICghX3RoaXMucGljQ2FudmFzKSByZXR1cm47CgogICAgICAgIF90aGlzLnBpY0NhbnZhcy56b29tVG9Qb2ludCh6cG9pbnQsIHYgLyAxMDApOwogICAgICB9IGVsc2Ugey8vIF90aGlzLmltZ1NjYWxlID0gdiAvIDEwMDsKICAgICAgICAvLyBpZiAoX3RoaXMubW9kZWxJZHggPT0gMSkgewogICAgICAgIC8vICAgX3RoaXMuaW1nU2NhbGUgPSBfdGhpcy5pbWdTY2FsZSAvIF90aGlzLmtNdWx0aXBsZTsKICAgICAgICAvLyB9CiAgICAgICAgLy8KICAgICAgICAvLyBpZihfdGhpcy50aW1lciE9bnVsbCl7CiAgICAgICAgLy8gICBjbGVhclRpbWVvdXQoX3RoaXMudGltZXIpOwogICAgICAgIC8vICAgX3RoaXMudGltZXI9bnVsbDsKICAgICAgICAvLyB9CiAgICAgICAgLy8gX3RoaXMudGltZXI9c2V0VGltZW91dChmdW5jdGlvbiAoKXsKICAgICAgICAvLyAgIF90aGlzLnpvb21JbihNYXRoLnJvdW5kKHYgKiAxKSAvIDEwMCk7CiAgICAgICAgLy8gfSwyMDApOwogICAgICB9CiAgICB9LAogICAgZ29zOiBmdW5jdGlvbiBnb3MoaXRlbSkgewogICAgICAvLyB0aGlzLiRzdG9yZS5zdGF0ZS5vcHRpb24gPSBpdGVtCiAgICAgIC8vIHRoaXMuJHN0b3JlLnN0YXRlLmJsYW5rID0gInNjcmVlbiI7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL3N0b3JlJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgcTogaXRlbQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgbG9hZENhbnZhczogZnVuY3Rpb24gbG9hZENhbnZhcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIF90aGlzLnBpY0NhbnZhcyA9IG5ldyBmYWJyaWMuQ2FudmFzKCJjYW52YXNCb3gzIiwgewogICAgICAgIGJhY2tncm91bmRDb2xvcjogIiNmZmYiLAogICAgICAgIGlzRHJhd2luZ01vZGU6IGZhbHNlCiAgICAgIH0pOwoKICAgICAgX3RoaXMucGljQ2FudmFzLnNldFdpZHRoKF90aGlzLmNsaXBXaWR0aCk7CgogICAgICBfdGhpcy5waWNDYW52YXMuc2V0SGVpZ2h0KF90aGlzLmNsaXBIZWlnaHQpOwogICAgfSwKICAgIHNldEFzUG9zaXRpb246IGZ1bmN0aW9uIHNldEFzUG9zaXRpb24oKSB7CiAgICAgIHZhciBzY3JvbGx0b3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wOwoKICAgICAgaWYgKHNjcm9sbHRvcCA+IDEwODApIHsKICAgICAgICAvLyDliLDkuoblupXpg6jkuYvlkI7mg7PlgZrnmoTmk43kvZws5aaC5Yiw5LqG5bqV6YOo5LmL5ZCO5Yqg6L29CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiYXMiKVswXS5zdHlsZS5wb3NpdGlvbiA9ICJmaXhlZCI7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiYXMiKVswXS5zdHlsZS50b3AgPSAiNnJlbSI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiYXMiKVswXS5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CiAgICAgIH0KICAgIH0sCiAgICBsb2FkTW9kZWw6IGZ1bmN0aW9uIGxvYWRNb2RlbCgpIHsKICAgICAgLy8gY29uc29sZS5sb2coMTExKTsKICAgICAgdmFyIF90aGlzID0gdGhpczsgLy8gYXhpb3Mg5Z+65pys5L2/55SoCgoKICAgICAgYXhpb3MoewogICAgICAgIHVybDogIi9uYW1lLmpzIiAvLyDor7fmsYLnmoTpk77mjqUKCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIC8vIGxldCBkYXRhPUpTT04ucGFyc2UocmVzLmRhdGEpOwogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICByZXMuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpZiAoaXRlbS5pbWcpIGl0ZW0uaW1nU3JjID0gaXRlbS5pbWc7CiAgICAgICAgICBpdGVtLnNvdXJjZUltZ1NyYyA9IGl0ZW0uaW1nU3JjOwogICAgICAgICAgaXRlbS5pbWcgPSBudWxsOwogICAgICAgICAgaXRlbS5pbWdQeFdpZHRoID0gbnVsbDsKICAgICAgICAgIGl0ZW0uaW1nUHhIZWlnaHQgPSBudWxsOwogICAgICAgICAgaXRlbS5mYWJyaWNTY2FsZSA9IG51bGw7CiAgICAgICAgfSk7CiAgICAgICAgX3RoaXMubW9kZWxMaXN0ID0gcmVzLmRhdGE7CgogICAgICAgIF90aGlzLmxvYWRTaW1wbGVQcm9kdWN0KCk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciB2bSA9IHRoaXM7CiAgICB0aGlzLnJxKHsKICAgICAgdXJsOiAiL3VwbG9hZHMvdGVtcC9ob21lLmpzb24/dGltZT0iLmNvbmNhdChuZXcgRGF0ZSgpKSwKICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgcGFyYW06IHt9LAogICAgICBvbkVycm9yOiBmdW5jdGlvbiBvbkVycm9yKCkge30sCiAgICAgIHZtOiB2bQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIHJlcy5jb3Vwb25Db2RlID09ICIiID8gdm0uRGlzY291bnQgPSBmYWxzZSA6IHZtLkRpc2NvdW50ID0gdHJ1ZTsKICAgICAgdm0uRGlzY291bnRfdGV4dCA9IHJlcy50aXRsZSArIHJlcy5jb3Vwb25Db2RlOwogICAgfSk7CiAgfSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgIC8vIOmUgOavgXZt57uE5Lu2CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBfdGhpcy5zZXRBc1Bvc2l0aW9uLCBmYWxzZSk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBfdGhpcy5jaGFuZ2VTaXplKCk7CgogICAgX3RoaXMubG9ja2luZyA9IGZhbHNlOwogICAgdmFyIHBzID0gdGhpcy4kcm91dGUucGF0aC5zcGxpdCgnLycpOwogICAgX3RoaXMucHJvZHVjdElkID0gcHNbcHMubGVuZ3RoIC0gMV07CgogICAgX3RoaXMubG9hZENhbnZhcygpOwoKICAgIF90aGlzLmxvYWRNb2RlbCgpOyAvLyBfdGhpcy5sb2FkUHJvZHVjdCgpOwogICAgLy8gX3RoaXMuc2VsZWN0QWxpa2VCeUlkKCk7CgoKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBfdGhpcy5zZXRBc1Bvc2l0aW9uLCBmYWxzZSk7CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","names":["components","Bottom","Cell","Shou","fabric","data","Discount","Discount_text","styleids","locking","con","textarea1","productId","imgSrc","iframeSrc","downLoad","duan","licenseType","licensePrice","linelist","listbus","listbuss","consHeight","consHeightt","consHeights","listnumber","isRepeat","imgSize","printSize1","printSize2","types","categories","tags","alikeList","img","lastModel","lastPic","minScale","maxScale","curScale","progress","picCanvas","boxSize","clipWidth","clipHeight","imgPxWidth","imgPxHeight","modelIdx","model","modelList","content_list_boll","conteent_img","conteent_img2","ontent_datas","why","gx","wonder","state","ab","blankImage","ku","watch","handler","methods","mis","document","sub","closeb","closebs","cancel","id","console","addOutlineCar","m","imgType","productNum","localStorage","addShopingCar","vm","gtag","currency","items","item_id","item_name","price","quantity","value","url","method","param","onError","then","gotoShopingCar","shou","pd","details","a","b","path","window","thisDownload","_this","res","ele","download","changeSize","sorting_list","selectAlikeById","ibus","tagIds","content_list_bools","candidate_click","src","content_img2_click","calcPrice","loadSimpleProduct","wh","w","h","w3","w6","h3","h6","loadProduct","switchPic","switchModel","selectModel","index","showImage","hasControls","scaleX","scaleY","angle","originX","originY","top","left","obj","initImage9","callback","hh","cvs","ctx","sliderInput","v","sliderChange","sliderHandler","gos","item","query","q","loadCanvas","backgroundColor","isDrawingMode","setAsPosition","loadModel","axios","created","destroyed","mounted"],"sourceRoot":"src/components/Details","sources":["detail.vue"],"sourcesContent":["<template>\n  <div class=\"bodys\">\n    <a class=\"as\" @click=\"mis\" href=\"#\"><img :src=\"why[1]\" alt=\"\" /></a>\n    <Shou ref=\"shou\" />\n\n    <div class=\"title\">\n      <div class=\"problems\">\n        <!-- <img :src=\"why[0]\" alt=\"\" @click=\"closeb\"> -->\n        <div class=\"cons\" v-if=\"con\">\n          <div class=\"title\">Why report problems</div>\n          <div class=\"text\">Please describe the problems you have encountered. You can also report trademark or\n            copyright violations\n          </div>\n          <div>\n            <el-input type=\"textarea\" :autosize=\"{ minRows: 7, maxRows: 7 }\" v-model=\"textarea1\">\n            </el-input>\n          </div>\n          <div class=\"button\">\n            <button @click=\"closebs\">cancel</button>\n            <button @click=\"sub\">Report</button>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"div_left\">\n        <div class=\"left\">\n\n          <div class=\"model\">Model</div>\n          <div class=\"imgsList\">\n            <div class=\"imglist\" v-for=\"(item, index) in modelList\" :key=\"index\" @click=\"selectModel(index)\">\n              <img :src=\"item.imgSrc\" :default-img=\"item.imgSrc\" alt=\" \" />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"div_content\">\n        <div class=\"comtent\" v-show=\"modelIdx <= 1\"\n          :style=\"{ width: boxSize + 'rem', height: (+boxSize + 0.9) + 'rem', marginTop: '0.1rem' }\">\n          <div class=\"content_img\" :style=\"{ width: boxSize + 'rem', height: boxSize + 'rem' }\">\n\n            <div class=\"content_img1\" v-show=\"modelIdx <= 1\" style=\"width: 100%;height:100%\">\n              <canvas id=\"canvasBox3\"></canvas>\n            </div>\n          </div>\n          <div class=\"slider content-silder\">\n            <el-slider v-model=\"curScale\" show-input :step=\"5\" :min=\"minScale\" :max=\"maxScale\" @input=\"sliderInput\"\n              @change=\"sliderChange\">\n            </el-slider>\n          </div>\n        </div>\n        <div class=\"comtent\" v-show=\"modelIdx > 1\"\n          :style=\"{ width: boxSize + 'rem', height: (+boxSize + 0.9) + 'rem', marginTop: '0.1rem' }\">\n          <iframe style=\"width: 100%;height:100%;border:0\" :src=\"iframeSrc\"></iframe>\n        </div>\n      </div>\n\n      <div class=\"div_switch\">\n        <div class=\"ordinary-picture\" @click=\"switchPic\" v-if=\"lastPic != null && modelIdx > 1\">\n          <img :src=\"lastPic.imgSrc\" alt=\"\" />\n        </div>\n        <div class=\"ordinary-picture\" @click=\"switchModel\" v-if=\"lastModel != null && modelIdx <= 1\">\n          <img :src=\"lastModel.imgSrc\" alt=\"\" />\n        </div>\n      </div>\n\n      <div class=\"rigth\">\n        <div class=\"text\">\n          <div class=\"title_name\">\n            <div class=\"spans_1\">Pattern Name</div>\n            <div class=\"spans_2\">{{ ontent_datas.tags }}</div>\n          </div>\n          <div class=\"title_name title_one\">\n            <div class=\"spans_1\">Pattern ID</div>\n            <div class=\"spans_2\">{{ ontent_datas.imgSn }}</div>\n          </div>\n          <div class=\"title_name\">\n            <div class=\"spans_1\">Included Files</div>\n            <div class=\"spans_2\">{{ ontent_datas.format }}</div>\n          </div>\n          <div class=\"title_name\">\n            <div class=\"spans_1\">Size</div>\n            <div class=\"spans_2\">{{ imgSize }}</div>\n          </div>\n          <div class=\"title_name\">\n            <div class=\"spans_1\">Print Size</div>\n            <div class=\"spans_2\">{{ printSize1 }}</div>\n          </div>\n          <div class=\"title_name\" v-if=\"printSize2\">\n            <div class=\"spans_1\">&nbsp;</div>\n            <div class=\"spans_2\">{{ printSize2 }}</div>\n          </div>\n          <!--          <div class=\"title_name\">-->\n          <!--            <div class=\"spans_1\">Resolution</div>-->\n          <!--            <div class=\"spans_2\">{{ ontent_datas.power }}</div>-->\n          <!--          </div>-->\n          <!--          <div class=\"title_name\">-->\n          <!--            <div class=\"spans_1\">In Repeat + Seamless Tile</div>-->\n          <!--            <div class=\"spans_2\">-->\n\n          <!--              <img :src=\"ontent_datas.isRepeat>0?state[1]:state[0]\" alt=\"\" />-->\n          <!--            </div>-->\n          <!--          </div>-->\n          <!--          <div class=\"title_name\">-->\n          <!--            <div class=\"spans_1\">Layered Photoshop PSD</div>-->\n          <!--            <div class=\"spans_2\">-->\n          <!--              <img :src=\"ontent_datas.isLayer>0?state[1]:state[0]\" alt=\"\" />-->\n          <!--            </div>-->\n          <!--          </div>-->\n          <!--          <div class=\"title_name\">-->\n          <!--            <div class=\"spans_1\">Vector AI Or EPS</div>-->\n          <!--            <div class=\"spans_2\">-->\n          <!--              <img :src=\"ontent_datas.isVector>0?state[1]:state[0]\" alt=\"\" />-->\n          <!--            </div>-->\n          <!--          </div>-->\n        </div>\n        <div class=\"in_2 in_23\" v-if=\"Discount\">\n          <p>{{ Discount_text }}</p>\n        </div>\n        <div class=\"in_2\" v-if=\"!Discount\">\n          <span v-for=\"(item, index) in ku\" :key=\"index\">\n            <img :src=\"item\" v-if=\"index == 0 || (index == 2 && ontent_datas.isRepeat > 0)\n            || (index == 3 && ontent_datas.isLayer > 0) || (index == 1 && ontent_datas.isLarge > 0)\" alt=\"\">\n          </span>\n          <!--              <img :src=\"item\" v-for=\"(item, index) in ku\" :key=\"index\" alt=\"\">-->\n        </div>\n        <div class=\"option\">\n          <div class=\"title\">\n            <div class=\"one\">License Type</div>\n            <div class=\"two\"><a href=\"/html/Comparison.html\" target=\"_blank\">Compare Licenses</a></div>\n            <i class=\"el-icon-warning-outline\"></i>\n          </div>\n          <div class=\"content\">\n            <div v-show=\"ontent_datas.isBuyout <= 0\">\n              <div v-show=\"duan\">\n                <!--                <div class=\"content_list\" @click=\"content_list_bools(1)\" v-if=\"ontent_datas.isUse > 0\">-->\n                <!--                  <div class=\"content_list_bolls lusk\">-->\n                <!--                    <img v-show=\"licenseType != 1\" :src=\"ab[0]\" alt=\"\"/>-->\n                <!--                    <img v-show=\"licenseType == 1\" :src=\"ab[1]\" alt=\"\"/>-->\n                <!--                  </div>-->\n\n                <!--                  <div class=\"con_idv lusk\">-->\n                <!--                    <div>Personal (JPEG Only)</div>-->\n\n                <!--                  </div>-->\n                <!--                </div>-->\n                <!-- 2 -->\n                <div class=\"content_list\" @click=\"content_list_bools(4)\" v-if=\"ontent_datas.isUse > 0\">\n                  <div class=\"content_list_bolls lusk\">\n                    <img v-show=\"licenseType != 4\" :src=\"ab[0]\" alt=\"\" />\n                    <img v-show=\"licenseType == 4\" :src=\"ab[1]\" alt=\"\" />\n                  </div>\n\n                  <div class=\"con_idv \">\n                    <div>Commercial (layered file/JPEG)</div>\n\n                  </div>\n                </div>\n                <!-- 3 -->\n                <div class=\"content_list\" @click=\"content_list_bools(5)\" v-if=\"ontent_datas.isUse > 0\">\n                  <div class=\"content_list_bolls lusk\">\n                    <img v-show=\"licenseType != 5\" :src=\"ab[0]\" alt=\"\" />\n                    <img v-show=\"licenseType == 5\" :src=\"ab[1]\" alt=\"\" />\n                  </div>\n\n                  <div class=\"con_idv\">\n                    <div>Commercial Unlimited (layered file/JPEG)</div>\n                    <!-- <div>Unlimited end products for sale</div> -->\n                  </div>\n                </div>\n              </div>\n              <div v-show=\"!duan\">\n                <div class=\"content_list\" @click=\"content_list_bools(4)\" v-if=\"ontent_datas.isUse > 0\">\n                  <div class=\"content_list_bolls\">\n                    <img v-show=\"licenseType != 4\" :src=\"ab[0]\" alt=\"\" />\n                    <img v-show=\"licenseType == 4\" :src=\"ab[1]\" alt=\"\" />\n                  </div>\n\n                  <div class=\"con_idv\">\n                    <div>Commercial (Layered PSD + JPEG)</div>\n                    <div>Up to 500 end products for sale</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <!-- 1 -->\n\n            <div class=\"content_list\" @click=\"content_list_bools(3)\" v-if=\"ontent_datas.isBuyout > 0\">\n              <div class=\"content_list_bolls \">\n                <img v-show=\"licenseType != 3\" :src=\"ab[0]\" alt=\"\" />\n                <img v-show=\"licenseType == 3\" :src=\"ab[1]\" alt=\"\" />\n              </div>\n\n              <div class=\"con_idv\">\n                <div>Commercial (Layered PSD + JPEG)</div>\n                <div>Up to 500 end products for sale</div>\n              </div>\n              <div class=\"wonder\">\n                <img :src=\"wonder\" alt=\"\" />\n                <div class=\"wonder_text\">\n                  <div class=\"demo2\">\n                    <em>&#9670;</em>\n                    <span>&#9670;</span>\n                    <div class=\"texts\">\n                      This product is a buyout picture, and will be automatically removed from the shelf after\n                      purchase\n                      You can't return the goods after purchase. Please contact customer service if there is any\n                      quality\n                      problem. Please confirm the follow-up operation\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"price\">\n          <div>Price</div>\n          <div>${{ licensePrice }}</div>\n        </div>\n        <div class=\"operlist\">\n\n          <div v-show=\"ontent_datas.hasCollection == 0\" class=\"operlist_2 btn_1\" @click=\"shou(ontent_datas)\">\n            <img class=\"gx1\" :src=\"gx[1]\" alt=\"\" />\n            Collect\n          </div>\n          <div v-show=\"ontent_datas.hasCollection > 0\" class=\"operlist_2  btn_12\" @click=\"shou(ontent_datas)\">\n            Collect\n          </div>\n\n          <button v-show=\"ontent_datas.isBuy == 2\" class=\"operlist_2 bag  downs\"\n            @click.prevent=\"thisDownload(ontent_datas)\">\n            Download\n            File\n            <svg class=\"download\" width=\"0.2rem\" height=\"0.2rem\" viewBox=\"0 0 20 20\" fill=\"\"\n              xmlns=\"http://www.w3.org/2000/svg\">\n              <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\n                d=\"M6.7569 6.32977C7.0467 6.32977 7.2819 6.56618 7.2819 6.85747C7.2819 7.14876 7.0467 7.38516 6.7569 7.38516H6.0982C4.9684 7.38516 4.05 8.30758 4.05 9.44248V12.8795C4.05 14.0187 4.9712 14.9446 6.1045 14.9446H13.9025C15.0309 14.9446 15.95 14.0208 15.95 12.8866V9.45022C15.95 8.3111 15.0281 7.38516 13.8962 7.38516H13.2438C12.954 7.38516 12.7188 7.14876 12.7188 6.85747C12.7188 6.56618 12.954 6.32977 13.2438 6.32977H13.8962C15.6077 6.32977 17 7.72993 17 9.45022V12.8866C17 14.6034 15.6098 16 13.9025 16H6.1045C4.393 16 3 14.6005 3 12.8795V9.44248C3 7.72571 4.3895 6.32977 6.0982 6.32977H6.7569ZM10.0006 3C10.2904 3 10.5256 3.23641 10.5256 3.5277L10.525 10.7227L11.6701 9.56737C11.8745 9.36051 12.2063 9.36051 12.4121 9.56596C12.6172 9.77141 12.6179 10.1056 12.4135 10.3125L10.377 12.3674C10.3571 12.388 10.3356 12.4069 10.3126 12.424L10.3723 12.3719C10.3497 12.3949 10.3253 12.4155 10.2992 12.4337C10.2834 12.4447 10.2672 12.4547 10.2506 12.4638C10.2425 12.4682 10.2341 12.4725 10.2255 12.4766C10.2103 12.4839 10.1946 12.4904 10.1786 12.4963C10.1705 12.4991 10.1625 12.5018 10.1544 12.5043C10.1347 12.5104 10.1144 12.5154 10.0937 12.5191C10.0891 12.5199 10.0848 12.5206 10.0806 12.5213C10.0639 12.5239 10.0464 12.5257 10.0288 12.5266C10.0193 12.5271 10.0099 12.5274 10.0006 12.5274L9.9727 12.5253L9.92935 12.5226C9.92626 12.5222 9.92318 12.5217 9.92011 12.5212L10.0006 12.5274C9.96928 12.5274 9.93824 12.5246 9.90781 12.5191C9.88676 12.5154 9.86653 12.5104 9.8468 12.5044C9.83891 12.5019 9.83117 12.4993 9.82349 12.4965C9.8074 12.4908 9.79152 12.4842 9.77605 12.4768C9.76665 12.4723 9.7573 12.4675 9.7481 12.4624C9.73517 12.4553 9.72271 12.4477 9.71059 12.4396C9.7023 12.4341 9.694 12.4282 9.68587 12.422C9.66587 12.407 9.647 12.3905 9.62938 12.3728L9.62886 12.3719L7.58766 10.3125C7.38326 10.1056 7.38396 9.77141 7.58906 9.56596C7.79486 9.36051 8.12666 9.36051 8.33106 9.56737L9.475 10.7227L9.47556 3.5277C9.47556 3.23641 9.71076 3 10.0006 3Z\"\n                fill=\"#222222\" />\n            </svg>\n            <div style=\"background-color: green;position: absolute;top:0;left:0;height:0.46rem;opacity: 0.4;\"\n              :style=\"{ width: progress + '%' }\"></div>\n          </button>\n          <div v-show=\"ontent_datas.isBuy == 1\" class=\"operlist_2 bag btn_x\" @click.prevent=\"gotoShopingCar\">\n            View Cart<img class=\"gx1\" :src=\"gx[2]\" alt=\"\" />\n          </div>\n          <!--          -->\n          <div v-show=\"ontent_datas.isBuy == 0\" class=\"operlist_2 btn_x\" @click.prevent=\"addShopingCar\">\n            <img class=\"gx1\" :src=\"gx[0]\" alt=\"\" />Add To Bag\n          </div>\n\n          <!--          <div class=\"tipstext\" v-if=\"ontent_datas.isBuy==1\">Item Added To Your Cart!</div>-->\n        </div>\n      </div>\n\n    </div>\n\n    <div class=\"middle\">\n      <div style=\"display: table\">\n        <div style=\"display: table-row\">\n          <div class=\"titles\">\n            Product Types\n          </div>\n          <div class=\"contents\">\n            <template v-for=\"(item, index) in types\">\n              {{ index > 0 ? ',' : '' }}<a v-if=\"item != ''\" :key=\"index\" href=\"javascript:void(0)\"\n                @click=\"gos(item)\">{{\n                    item\n                }}</a>\n            </template>\n          </div>\n        </div>\n        <div style=\"display: table-row\">\n          <div class=\"titles\">\n            Categories\n          </div>\n          <div class=\"contents\">\n            <template v-for=\"(item, index) in categories\">\n              {{ index > 0 ? ',' : '' }}<a v-if=\"item != ''\" :key=\"index\" href=\"javascript:void(0)\"\n                @click=\"gos(item)\">{{\n                    item\n                }}</a>\n            </template>\n          </div>\n        </div>\n        <div style=\"display: table-row\">\n          <div class=\"titles\">\n            Tags\n          </div>\n          <div class=\"contents\">\n            <template v-for=\"(item, index) in tags\">\n              {{ index > 0 ? ',' : '' }}<a v-if=\"item != ''\" :key=\"index\" href=\"javascript:void(0)\"\n                @click=\"gos(item)\">{{\n                    item\n                }}</a>\n            </template>\n          </div>\n        </div>\n      </div>\n\n    </div>\n    <div class=\"Related\">Popular recommendations</div>\n    <Cell :lux=\"0.16\" :linelist=\"listbuss\" @shou=\"shou\" :consHeight=\"consHeightt\" :deleteIcon=\"false\" />\n    <div class=\"Related\">Related Designs</div>\n    <Cell :lux=\"0.16\" :linelist=\"listbus\" @shou=\"shou\" :consHeight=\"consHeights\" :deleteIcon=\"false\" />\n\n    <Bottom />\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Bottom from \"@/components/BottomNavigation/index\";\nimport { sorting_list, download } from \"@/utils/util\";\nimport Cell from \"../Screen/Cell\";\nimport Shou from \"../Screen/Shou\";\nimport { fabric } from \"fabric\";\n\nexport default {\n  components: {\n    Bottom,\n    Cell,\n    Shou,\n    fabric,\n  },\n  data() {\n    return {\n      Discount: false,\n      Discount_text: \"\",\n      styleids: \"\",\n      locking: false,\n      con: false,\n      textarea1: \"\",\n      productId: null,\n      imgSrc: '',\n      iframeSrc: '',\n      downLoad: false,\n      duan: true,\n      // Collect: true,\n      // su: false,\n      // p: null,\n      licenseType: 0,\n      licensePrice: '',\n      linelist: [],\n      listbus: [],\n      listbuss: [],\n      consHeight: 0,\n      consHeightt: 0,\n      consHeights: 0,\n      listnumber: 0,\n      isRepeat: 0,\n      imgSize: '',\n      printSize1: '',\n      printSize2: '',\n      types: [],\n      categories: [],\n      tags: [],\n      alikeList: [],\n\n      img: null,\n      lastModel: null,\n      lastPic: null,\n\n      minScale: 400,\n      maxScale: 400,\n      curScale: 100,\n      progress: 0,\n\n      picCanvas: null,\n      boxSize: 6,\n      clipWidth: 600, //clip \n      clipHeight: 600, //clip \n      imgPxWidth: null,\n      imgPxHeight: null,\n\n      modelIdx: '',\n      model: {},\n      modelList: [], //  \n\n      content_list_boll: [true, false, false], //\n      conteent_img: \"\",\n      conteent_img2: \"\",\n      ontent_datas: \"\",\n\n      why: [require(\"@/assets/img/why.svg\"), require(\"@/assets/img/<.svg\")],\n      gx: [require(\"@/assets/img/gox.svg\"), require(\"@/assets/img/xingx.svg\"), require(\"@/assets/img/oks.svg\")],\n      wonder: require(\"@/assets/img/wonder.png\"),\n      state: [require(\"@/assets/img/x.png\"), require(\"@/assets/img/d.png\")],\n      ab: [require(\"@/assets/img/a.png\"), require(\"@/assets/img/b.png\")],\n      blankImage: require(\"@/assets/img/blank.svg\"),\n      ku: [require(\"@/assets/img/ku_1.svg\"), require(\"@/assets/img/ku_2.svg\"), require(\"@/assets/img/ku_4.svg\"), require(\"@/assets/img/ku_3.svg\")],\n\n    };\n  },\n  watch: {\n    '$store.state.fontRate': {\n      handler() {\n        this.changeSize();\n      },\n    },\n  },\n  methods: {\n    mis() {\n      document.getElementsByClassName(\"as\")[0].style.position = \"absolute\"\n    },\n    sub() {\n      if (this.textarea1 == \"\") {\n        return this.$message(\"Cannot be empty\")\n      }\n    },\n    closeb() {\n      this.con = true\n    },\n    closebs() {\n      this.con = false\n    },\n    //\n    cancel(id) {\n      console.log(id);\n    },\n    // \n    addOutlineCar() {\n      let m = JSON.parse(localStorage.getItem('sshopping_car'));\n\n      if (m && m.some(item => item.productId == this.productId)) {\n        this.$message(\"Product exist\");\n      } else {\n\n        if (!m) {\n          m = [];\n        }\n\n        let s = {\n          productId: this.productId,//\n          imgType: this.licenseType, //\n          productNum: 1\n        };\n\n        m.push(s)\n        localStorage.setItem('sshopping_car', JSON.stringify(m));\n        this.ontent_datas.isBuy = 1;\n\n        this.locking = false;\n      }\n    },\n    // \n    addShopingCar() {\n      let vm = this;\n\n      if (vm.locking) return;\n      vm.locking = true;\n\n      gtag('event', 'add_to_cart', {\n        currency: 'USD',\n        items: [{\n          item_id: this.ontent_datas.productId,\n          item_name: this.ontent_datas.imgSn,\n          price: this.licensePrice,\n          currency: 'USD',\n          quantity: 1\n        }],\n        value: this.licensePrice\n      });\n\n      // \n      if (!localStorage.user) {\n        //  localStorage.shopping_car\n        // localStorage.shopping_car\n        this.addOutlineCar();\n        // console.log(JSON.parse(localStorage.getItem('sshopping_car')));\n\n        // this.Bag = false;\n      } else {\n        this.rq({\n          url: \"/api/cart/save\",\n          method: \"post\",\n          param: {\n            productId: this.ontent_datas.productId,\n            imgType: this.licenseType,\n          },\n          onError: function () {\n            vm.locking = false;\n          },\n          vm,\n        }).then((res) => {\n          if (res.code == 200) {\n            // this.$message(\"\");\n            if (!res.user) {\n              vm.addOutlineCar();\n            } else {\n              vm.ontent_datas.isBuy = 1;\n            }\n\n          } else if (res.code == 601 || res.code == 680) {\n            vm.addOutlineCar();\n            //   this.Bag = false;\n            // this.$store.state.login = true;\n            // this.$store.state.logins = true\n            // this.$store.state.ForgetPwd = false\n            // this.$store.state.Sign = false\n          } else {\n            this.$message(res.desc);\n            //\n          }\n          vm.locking = false;\n        });\n      }\n    },\n    gotoShopingCar() {\n      this.$router.push(\"/shoppingcar\")\n    },\n    shou(pd) {\n      this.$refs.shou.shou(pd);\n    },\n    details(a, b) {\n      const routeUrl = this.$router.resolve({\n        path: \"/detail/\" + a\n      });\n      window.open(routeUrl.href, \"_self\");\n    },\n    thisDownload(pd) {\n      const _this = this;\n\n      _this.rq({\n        url: \"/api/product/downUrl\",\n        method: \"post\",\n        param: {\n          id: _this.ontent_datas.productId,\n        },\n        onError: function () {\n        },\n        _this,\n      }).then((res) => {\n        if (res.code == 200) {\n          // this.$message(\"\");\n\n          res.data = res.data.replace('http:', 'https:');\n\n          let reg = /\\.(\\w*?)\\?/\n          let ext = reg.exec(res.data)[1];\n\n          if ('zip' == ext.toLowerCase()) {\n\n            let ele = document.createElement('a');\n            ele.setAttribute('href', res.data); //url\n            ele.setAttribute('download', _this.ontent_datas.imgSn + '.' + ext);//\n\n            ele.setAttribute(\"target\", \"_self\");\n            ele.click();\n\n          } else {\n            download(_this, res.data, _this.ontent_datas.imgSn + '.' + ext);\n          }\n\n          // let xhr = new XMLHttpRequest();\n          // xhr.responseType = 'blob';\n          // xhr.open('GET', res.data, true);\n          // xhr.onload = function(){\n          //     let res1 = xhr.response;\n          //     if(res1){\n          //         const link = document.createElement(\"a\");\n          //         link.href = URL.createObjectURL(res1);\n          //         link.download = _this.ontent_datas.imgSn + '.' + ext;\n          //         link.click();\n          //         URL.revokeObjectURL(link.href);\n          //     }\n          // }\n          // xhr.send();\n        } else {\n          this.$message(res.desc);\n          //\n        }\n      });\n\n    },\n    changeSize() {\n      if (this.listbuss != null && this.listbuss.length > 0)\n        sorting_list(this.p, this);\n\n      this.clipWidth = this.clipHeight = 6 * this.$store.state.fontRate;\n    },\n    selectAlikeById() {\n      // this.linelist=null;\n      let vm = this;\n      this.rq({\n        url: \"/api/product/selectAlikeById\",\n        method: \"post\",\n        param: {\n          productId: vm.productId\n        },\n        onError: function () {\n        },\n        vm: null,\n      }).then((res) => {\n        if (res.code == 200) {\n          vm.listbuss = res.data;\n\n          if (vm.listbuss == undefined) {\n            this.linelist = null;\n            this.consHeightt = 0;\n          } else {\n            //   \n            vm.consHeightt = sorting_list(vm.listbuss, vm);\n\n          }\n        } else {\n          //\n          this.$message(res.desc);\n        }\n      });\n    },\n    ibus() {\n      let vm = this;\n      this.rq({\n        url: \"/api/product/selectBestSellerByTagId\",\n        method: \"post\",\n        param: {\n          tagIds: vm.styleids\n        },\n        onError: function () {\n        },\n        vm: null,\n      }).then((res) => {\n        if (res.code == 200) {\n          vm.listbus = res.data;\n\n          if (vm.listbus == undefined) {\n            this.linelist = null;\n            this.consHeights = 0;\n          } else {\n            //   \n\n            vm.consHeights = sorting_list(vm.listbus, vm);\n          }\n        } else {\n          //\n          this.$message(res.desc);\n        }\n      });\n    },\n    content_list_bools(a) {\n      this.licenseType = a;\n      this.calcPrice()\n    },\n    candidate_click(src) {\n      if (this.conteent_img2 == \"\") {\n        // content \n        this.conteent_img2 = this.conteent_img;\n      }\n      this.conteent_img = src;\n    },\n    // \n    content_img2_click() {\n      // \n      let ImgMaxSrc = this.conteent_img;\n      this.conteent_img = this.conteent_img2;\n      this.conteent_img2 = ImgMaxSrc;\n    },\n    calcPrice() {\n      const _this = this;\n      let licenseType = _this.licenseType;\n      let price = _this.ontent_datas.price;\n      let priceOnce = _this.ontent_datas.priceOnce;\n\n      if (licenseType == 3) {\n        _this.licensePrice = priceOnce;\n      } else if (licenseType == 5) {\n        _this.licensePrice = price;\n      } else if (licenseType == 4) {\n        _this.licensePrice = Math.round(price * 0.75 * 100) / 100;\n      } else if (licenseType == 1) {\n        _this.licensePrice = Math.round(price * 0.5 * 100) / 100;\n      }\n    },\n    loadSimpleProduct() {\n      let vm = this;\n      this.rq({\n        url: \"/api/product/selectById\",\n        method: \"post\",\n        param: {\n          productId: vm.productId,\n        },\n        onError: function () {\n        },\n        vm,\n      }).then((res) => {\n        if (res.code == 200) {\n          vm.modelList[0].sourceImgSrc = res.data.cover;\n          vm.modelList[0].imgSrc = vm.modelList[0].sourceImgSrc.replace('/j/', '/b/');\n          vm.imgSrc = vm.modelList[0].sourceImgSrc;\n          vm.selectModel(0);\n\n          vm.ontent_datas = res.data;\n          vm.conteent_img = vm.$imgServer + res.data.cover;\n\n          // \n          if (res.user && res.user.id) {\n\n          } else {\n\n            let m = JSON.parse(localStorage.getItem('sshopping_car'));\n            if (m && m.length > 0) {\n              if (m.some(item => item.productId == vm.productId)) {\n                vm.ontent_datas.isBuy = 1;\n              }\n            }\n          }\n\n          if (vm.ontent_datas.isUse > 0) {\n            vm.licenseType = 5;\n          } else {\n            vm.licenseType = 3;\n          }\n\n          // \n          if (vm.ontent_datas.isBuyout == 1) {\n            vm.licenseType = 3;\n          }\n\n          vm.calcPrice();\n\n          if (res.data.imgSize) {\n\n            if (res.data.imgSize == '') {\n              vm.imgSize = 'Vector image';\n            } else {\n              let wp = 300, hp = 300;\n              let w = '', h = '', imgSize, wh;\n\n              if (res.data.imgSize.indexOf('cm') >= 0) {\n                imgSize = res.data.imgSize.replace('cm', '');\n                imgSize = imgSize.replace('cm', '');\n                wh = imgSize.split(\"*\");\n                if (wh[0]) {\n                  w = Math.round(wh[0] / 254 * 100 * wp);\n                }\n                if (wh[1]) {\n                  h = Math.round(wh[1] / 254 * 100 * wp);\n                }\n\n              } else {\n                imgSize = res.data.imgSize.replace('', '');\n                imgSize = imgSize.replace('', '');\n                wh = imgSize.split(\"*\");\n                w = wh[0];\n                h = wh[1];\n              }\n              if (w && h) {\n                vm.imgSize = w + '*' + h;\n\n                let w3 = '', w6 = '', h3 = '', h6 = '';\n                if (w) {\n                  w3 = Math.round(w * 254 / 300) / 100;\n                  w6 = Math.round(w * 254 / 600) / 100;\n                }\n                if (h) {\n                  h3 = Math.round(h * 254 / 300) / 100;\n                  h6 = Math.round(h * 254 / 600) / 100;\n                }\n\n                vm.printSize1 = w3 + '*' + h3 + 'cm(300dpi)';\n                vm.printSize2 = w6 + '*' + h6 + 'cm(600dpi)';\n              } else {\n                vm.imgSize = res.data.imgSize;\n                vm.printSize1 = '';\n                vm.printSize2 = '';\n              }\n\n            }\n\n          } else {\n            vm.imgSize = '';\n            vm.printSize1 = '';\n            vm.printSize2 = '';\n          }\n          vm.loadProduct(res);\n        } else {\n          //\n          this.$message(res.desc);\n        }\n      });\n    },\n    loadProduct(res) {\n      let vm = this;\n\n\n\n      vm.types = [];\n      vm.ontent_datas.isRepeat = 0;\n      vm.ontent_datas.isLayer = 0;\n      vm.styleids = res.data.styleId\n      vm.ibus();\n\n      res.data.styleStr.split(',').forEach(item => {\n        if (item != '') {\n          vm.types.push(item)\n\n          if (item == 'In Repeat' || item == 'Cyclic graph') {\n            vm.ontent_datas.isRepeat = 1;\n          }\n          if (item.indexOf('Simple layered') >= 0 || item == 'Layered file' || item == 'Color separation') {\n            vm.ontent_datas.isLayer = 1;\n          }\n        }\n      });\n\n\n      vm.ontent_datas.tags = res.data.tags;\n      vm.isRepeat = res.data.isRepeat;\n\n      vm.categories = [];\n      res.data.productFicationStr.split(',').forEach(item => {\n        if (item != '')\n          vm.categories.push(item)\n      });\n\n      vm.tags = [];\n      res.data.label.split(',').forEach(item => {\n        if (item != '')\n          vm.tags.push(item)\n      });\n      res.data.entityStr.split(',').forEach(item => {\n        if (item != '')\n          vm.tags.push(item)\n      });\n      res.data.sceneStr.split(',').forEach(item => {\n        if (item != '')\n          vm.tags.push(item)\n      });\n      res.data.seasonStr.split(',').forEach(item => {\n        if (item != '')\n          vm.tags.push(item)\n      });\n      res.data.fashionStr.split(',').forEach(item => {\n        if (item != '')\n          vm.tags.push(item)\n      });\n      // vm.conteent_img = vm.$imgServer + res.data.cover;\n\n      vm.selectAlikeById();\n\n\n\n    },\n    switchPic() {\n      const _this = this;\n      _this.model = _this.lastPic;\n      _this.modelList.forEach((item, idx) => {\n        if (item.id == _this.model.id) {\n          _this.modelIdx = idx;\n        }\n      });\n    },\n    switchModel() {\n      const _this = this;\n      _this.model = _this.lastModel;\n      _this.modelList.forEach((item, idx) => {\n        if (item.id == _this.model.id) {\n          _this.modelIdx = idx;\n        }\n      });\n    },\n    selectModel(index) {\n      const _this = this;\n\n      _this.model = _this.modelList[index];\n      _this.modelIdx = index;\n\n      if (index === 0) {\n        _this.maxScale = 400;\n        _this.minScale = 20;\n        _this.lastPic = _this.model;\n      } else if (index === 1) {\n        _this.maxScale = 200;\n        _this.minScale = 20;\n        _this.lastPic = _this.model;\n      } else {\n        // _this.iframeSrc='/sketch/'+_this.productId+'?img='+encodeURIComponent(_this.imgSrc)\n        //     +'&modeli='+_this.modelIdx+'&fontRate='+_this.$store.state.fontRate;\n        _this.iframeSrc = 'https://www.patternbuy.com/sketch/?img=' + encodeURIComponent(_this.imgSrc)\n          + '&modeli=' + _this.modelIdx + '&fontRate=' + _this.$store.state.fontRate;\n        console.log(_this.iframeSrc)\n        _this.lastModel = _this.model;\n        return;\n      }\n\n      _this.curScale = 100;\n\n      if (_this.model.img == null) {\n\n        if (_this.modelIdx == 0) {\n          let img = new Image();\n          img.setAttribute(\"crossOrigin\", \"anonymous\");\n          img.src = _this.model.sourceImgSrc;\n          img.onload = () => {\n            _this.model.img = img;\n            _this.model.imgPxWidth = img.width;\n            _this.model.imgPxHeight = img.height;\n\n            //  \n            if (_this.model.imgPxWidth > _this.model.imgPxHeight) {\n              _this.model.fabricScale = _this.clipWidth / _this.model.imgPxWidth;\n            } else {\n              _this.model.fabricScale = _this.clipHeight / _this.model.imgPxHeight;\n            }\n            _this.showImage(_this.model);\n            _this.initImage9();\n          };\n        } else {\n          _this.initImage9(function () {\n            _this.showImage(_this.model);\n          });\n        }\n\n      } else {\n        _this.showImage(_this.model);\n      }\n    },\n    //  \n    showImage(model) {\n      const _this = this;\n      _this.curScale = 100;\n\n      let opt = {\n        hasControls: false,\n        scaleX: model.fabricScale,\n        scaleY: model.fabricScale,\n        angle: 0,\n        originX: \"center\",\n        originY: \"center\",\n        top: _this.clipWidth / 2,\n        left: _this.clipHeight / 2\n      };\n      let oimg = new fabric.Image(model.img, opt);\n      let obj = _this.picCanvas.getObjects();\n      obj.forEach((res) => {\n        _this.picCanvas.remove(res);\n      });\n      _this.picCanvas.add(oimg);\n    },\n    initImage9(callback) {\n      const _this = this;\n\n      let model = _this.modelList[1];\n      let model0 = _this.modelList[0];\n\n      let ww = _this.clipWidth,\n        hh = (ww * model0.imgPxHeight) / model0.imgPxWidth;\n      let x = 3;\n      let y = 3;\n\n      let cvs = document.createElement(\"canvas\");\n      cvs.width = ww * x;\n      cvs.height = hh * y;\n      let ctx = cvs.getContext(\"2d\");\n\n      for (let i = 0; i < x; i++) {\n        for (let j = 0; j < y; j++) {\n          ctx.drawImage(model0.img, i * ww, j * hh, ww, hh);\n        }\n      }\n\n      let imgSrc = cvs.toDataURL(\"image/png\");\n      _this.modelList[1].imgSrc = imgSrc;\n      _this.modelList[1].sourceImgSrc = imgSrc;\n\n      let img = new Image();\n      img.setAttribute(\"crossOrigin\", \"anonymous\");\n      img.src = imgSrc;\n      img.onload = () => {\n        model.img = img;\n        model.imgPxWidth = img.width;\n        model.imgPxHeight = img.height;\n\n        //  \n        if (model.imgPxWidth > model.imgPxHeight) {\n          model.fabricScale = _this.clipWidth / model.imgPxWidth;\n        } else {\n          model.fabricScale = _this.clipHeight / model.imgPxHeight;\n        }\n\n        if (callback)\n          callback();\n      };\n    },\n    // slider change\n    sliderInput(v) {\n      console.log('input')\n      const _this = this;\n\n      if (_this.modelIdx <= 1) {\n        _this.sliderHandler(v);\n      } else {\n        return;\n      }\n    },\n    sliderChange(v) {\n      console.log('change')\n      const _this = this;\n\n      if (_this.modelIdx <= 1) {\n        return;\n      } else {\n        _this.sliderHandler(v);\n      }\n    },\n    sliderHandler(v) {\n      const _this = this;\n\n      if (_this.modelIdx <= 1) {\n\n        let zpoint = new fabric.Point(\n          _this.clipWidth / 2,\n          _this.clipHeight / 2\n        ); // \n        if (!_this.picCanvas) return;\n        _this.picCanvas.zoomToPoint(zpoint, v / 100);\n\n      } else {\n        // _this.imgScale = v / 100;\n        // if (_this.modelIdx == 1) {\n        //   _this.imgScale = _this.imgScale / _this.kMultiple;\n        // }\n        //\n        // if(_this.timer!=null){\n        //   clearTimeout(_this.timer);\n        //   _this.timer=null;\n        // }\n        // _this.timer=setTimeout(function (){\n        //   _this.zoomIn(Math.round(v * 1) / 100);\n        // },200);\n      }\n    },\n    gos(item) {\n      // this.$store.state.option = item\n      // this.$store.state.blank = \"screen\";\n\n      this.$router.push({\n        path: '/store',\n        query: { q: item }\n      });\n\n    },\n    loadCanvas() {\n      const _this = this;\n\n      _this.picCanvas = new fabric.Canvas(\"canvasBox3\", {\n        backgroundColor: \"#fff\",\n        isDrawingMode: false,\n      });\n\n      _this.picCanvas.setWidth(_this.clipWidth);\n      _this.picCanvas.setHeight(_this.clipHeight);\n\n    },\n    setAsPosition() {\n\n      let scrolltop = document.documentElement.scrollTop || document.body.scrollTop;\n\n      if (scrolltop > 1080) {\n        // ,\n        document.getElementsByClassName(\"as\")[0].style.position = \"fixed\"\n        document.getElementsByClassName(\"as\")[0].style.top = \"6rem\"\n\n      } else {\n        document.getElementsByClassName(\"as\")[0].style.position = \"absolute\"\n      }\n    },\n    loadModel() {\n      // console.log(111);\n      let _this = this;\n\n      // axios \n      axios({\n        url: \"/name.js\", // \n      }).then((res) => {\n        // let data=JSON.parse(res.data);\n        console.log(res.data);\n        res.data.forEach(item => {\n          if (item.img)\n            item.imgSrc = item.img;\n          item.sourceImgSrc = item.imgSrc;\n          item.img = null;\n          item.imgPxWidth = null;\n          item.imgPxHeight = null;\n          item.fabricScale = null;\n        });\n        _this.modelList = res.data;\n        _this.loadSimpleProduct();\n      });\n\n    },\n  },\n  created() {\n    let vm = this;\n\n\n    this.rq({\n      url: `/uploads/temp/home.json?time=${new Date}`,\n      method: \"get\",\n      param: {\n\n      },\n      onError: function () { },\n      vm,\n    }).then((res) => {\n\n      res.couponCode == \"\" ? vm.Discount = false : vm.Discount = true\n      vm.Discount_text = res.title + res.couponCode\n    });\n  },\n  destroyed() { // vm\n    const _this = this;\n    window.removeEventListener('scroll', _this.setAsPosition, false);\n  },\n  mounted() {\n    const _this = this;\n    _this.changeSize();\n\n    _this.locking = false;\n\n\n    let ps = this.$route.path.split('/');\n    _this.productId = ps[ps.length - 1];\n\n    _this.loadCanvas();\n    _this.loadModel();\n    // _this.loadProduct();\n\n    // _this.selectAlikeById();\n\n    window.addEventListener('scroll', _this.setAsPosition, false);\n  },\n\n};\n</script>\n\n<style lang=\"less\" scoped>\n.bodys {\n  background: #f7f9fd;\n\n  //height: 1080px;\n\n  .as {\n    z-index: 9;\n    position: absolute;\n    right: 0rem;\n    top: 13.9rem;\n  }\n}\n\n.title {\n  padding-top: 0.2rem;\n\n  .problems {\n    position: absolute;\n    top: 7.3rem;\n    right: 0.08rem;\n    width: 0.48rem;\n    height: 0.48rem;\n\n    img {\n      width: 100%;\n      height: 100%;\n    }\n\n    .cons {\n      padding-top: 0.24rem;\n      padding-left: 0.24rem;\n      padding-right: 0.24rem;\n      width: 4.48rem;\n      height: 3.38rem;\n      background: #fff;\n      position: absolute;\n      right: 0.6rem;\n      bottom: 0;\n      z-index: 10;\n      box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.1);\n      border-radius: 0.14rem;\n      color: #000;\n\n      .title {\n        font-family: 'PingFang SC';\n        font-style: normal;\n        font-weight: 500;\n        font-size: 0.20rem;\n        line-height: 0.28rem;\n\n      }\n\n      .text {\n        font-family: 'PingFang SC';\n        font-style: normal;\n        font-weight: 400;\n        font-size: 0.14rem;\n        line-height: 0.20rem;\n\n      }\n\n      .button {\n        justify-content: space-between;\n        display: flex;\n        padding-top: 0.16rem;\n\n        button {\n          width: 0.99rem;\n          height: 0.42rem;\n          text-align: center;\n\n          border: 1px solid #373ACB;\n          border-radius: 0.21rem;\n          background: #fff;\n        }\n\n        button+button {\n          color: #fafafa;\n          background: #373ACB;\n        }\n      }\n\n    }\n  }\n\n  display: flex;\n  /*margin-left: 1.73rem;*/\n  /*margin-right: 1.73rem;*/\n  /*border-radius: 0.14rem;*/\n  text-align: center;\n\n\n  //   overflow: hidden;\n  >div {\n    display: inline-block;\n    vertical-align: top;\n    text-align: left;\n  }\n\n  .div_left {\n    padding-left: 1.97rem;\n\n    .left {\n      border-radius: 0.14rem;\n      overflow: hidden;\n      width: 3.18rem;\n      height: 7.3rem;\n      left: 0px;\n      top: 0px;\n      position: relative;\n      background: #fff;\n      box-sizing: border-box;\n      // padding-left: 0.1rem;\n      padding-top: 0.24rem;\n      overflow: auto;\n\n      .model {\n        transform-origin: -50% -50%;\n\n        width: 0.8rem;\n        height: 0.22rem;\n        font-family: \"PingFang SC\";\n        font-style: normal;\n        font-weight: 700;\n        font-size: 16px;\n        transform: rotateZ(90deg);\n        position: absolute;\n        top: 0rem;\n        left: 0.22rem;\n        text-align: center;\n        background: #222222;\n        color: #fff;\n        line-height: 0.22rem;\n        border-radius: 0 0.04rem;\n        transform-origin: 0% 0%;\n      }\n\n      .imglist {\n        width: 1.3rem;\n        height: 1.3rem;\n        float: left;\n        margin-bottom: 0.08rem;\n\n        // margin-top: 0.08rem;\n        img {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n        }\n      }\n\n      .imgsList {\n        display: flex;\n        flex-wrap: wrap;\n        justify-content: space-between;\n        width: 2.68rem;\n        margin: 0 auto;\n      }\n\n      .imglist:nth-child(2n) {\n        // margin-right: 0.08rem;\n      }\n    }\n  }\n\n  .div_switch {\n    display: inline-block;\n    position: relative;\n    width: 0.82rem;\n    padding-left: 0.05rem;\n  }\n\n  .div_content {\n    padding-left: 0.82rem;\n    padding-right: 0.58rem;\n    padding-right: 0;\n\n    .comtent {\n      width: 6.52rem;\n      height: 6rem;\n\n\n      .content_img {\n        width: 6.52rem;\n        height: 100%;\n        display: flex;\n        position: relative;\n        margin-bottom: 0.16rem;\n\n        .content_img1 {\n          width: 6rem;\n          height: 6rem;\n          position: absolute;\n          z-index: 2;\n          left: 0;\n          overflow: hidden;\n\n          img {\n            position: absolute;\n            left: 50%;\n            top: 50%;\n            width: 100%;\n            height: 100%;\n            transform: translateX(-50%) translateY(-50%);\n            object-fit: cover;\n          }\n        }\n\n        .content_img2 {\n          width: 0.5rem;\n          height: 0.5rem;\n          font-size: 0.14rem;\n\n          img {\n            width: 100%;\n            height: 100%;\n            object-fit: cover;\n          }\n        }\n      }\n\n      .slider {\n        font-size: 0.14rem;\n      }\n\n    }\n\n  }\n\n\n  .rigth {\n\n    min-width: 4.19rem;\n    width: 4.19rem;\n    // height: 7.4rem;\n    background: #fff;\n    // margin-left: 0.58rem;\n    border-radius: 0.14rem;\n    // overflow: hidden;\n    box-sizing: border-box;\n    padding-left: 0.24rem;\n    padding-right: 0.24rem;\n\n    .text {\n      padding-bottom: 0.1rem;\n      border-bottom: 1px dashed #f1f1f1;\n\n      .title_name {\n        display: flex;\n        margin-top: 0.16rem;\n        font-size: 0.14rem;\n        font-family: \"PingFang SC\";\n        font-style: normal;\n        font-weight: 400;\n        font-size: 0.14rem;\n        line-height: 0.2rem;\n        color: #666666;\n        justify-content: space-between\n      }\n\n\n      .spans_1 {\n        white-space: nowrap;\n        padding-right: 0.2rem;\n      }\n\n      .spans_2 {\n\n\n        text-align: right;\n      }\n    }\n\n    .option {\n      margin-top: 0.2rem;\n      width: 100%;\n      padding-bottom: 0.2rem;\n      border-bottom: 1px dashed #f1f1f1;\n\n      .title {\n        margin-left: 0px;\n        display: flex;\n        width: 100%;\n        color: #666;\n        font-family: \"PingFang SC\";\n        font-style: normal;\n        font-weight: 400;\n        font-size: 0.12rem;\n        line-height: 0.17rem;\n\n        .one {\n          color: #222;\n        }\n\n        .two:hover {\n          cursor: pointer;\n          text-decoration: underline\n        }\n\n        .el-icon-warning-outline {\n          font-size: 0.16rem;\n          transform: translateY(10%);\n          margin-left: 0.08rem;\n          color: #666;\n        }\n\n        .el-icon-warning-outline:hover {\n          color: #000;\n        }\n\n        div+div {\n          color: #373ACB;\n          margin-left: 0.08rem;\n        }\n\n      }\n\n      .content {\n        width: 100%;\n\n        .content_list {\n          position: relative;\n          margin-top: 0.16rem;\n          /*width: 3.84rem;*/\n          // height: 0.56rem;\n          background: #f3f7ff;\n          font-size: 0.14rem;\n          padding-top: 0.08rem;\n          display: flex;\n          line-height: 0.22rem;\n          cursor: pointer;\n          justify-content: space-evenly;\n          border-radius: 0.14rem;\n\n          >div {\n            >div {\n              cursor: pointer;\n            }\n          }\n\n          .content_list_bolls {\n            width: 0.3rem;\n            text-align: right;\n            margin-right: 0.08rem;\n            height: 100%;\n            line-height: 0.28rem;\n            box-sizing: border-box;\n            padding-top: 0.1rem;\n            cursor: pointer;\n\n            >img {\n              cursor: pointer;\n            }\n          }\n\n          .lusk {\n            padding-top: 0;\n          }\n\n          .con_idv {\n            width: 100%;\n          }\n\n          //   padding-top: 0.08rem;\n          .wonder {\n            /*line-height: 100%;*/\n            /*//   height: 100%;*/\n            /*margin-top: 0.2rem;*/\n            /*margin-left: 0.33rem;*/\n            width: 0.3rem;\n            height: 0.56rem;\n            line-height: 00.56rem;\n\n            top: 0.2rem;\n          }\n\n          .wonder:hover {\n            .wonder_text {\n              display: block;\n              z-index: 10;\n            }\n          }\n\n          .wonder_text {\n            position: absolute;\n            width: 3.44rem;\n            // height: 1.5rem;\n            // border: 1px solid #000;\n            transform: translateX(-48%) translateY(0.0rem);\n            display: none;\n\n            .demo2 {\n              width: 100%;\n              border: 1px solid #e8ecf5;\n              height: 100%;\n              border-radius: 16px;\n              position: relative;\n              margin-left: auto;\n              margin-right: auto;\n              background: #fff;\n              box-sizing: border-box;\n              padding-top: 0.18rem;\n              padding-left: 0.24rem;\n              padding-right: 0.24rem;\n              padding-bottom: 0.15rem;\n\n              .texts {\n                font-family: \"PingFang SC\";\n                font-style: normal;\n                font-weight: 400;\n                font-size: 0.14rem;\n                line-height: 0.2rem;\n              }\n            }\n\n            .demo2 em,\n            .demo2 span {\n              font-style: normal;\n              font-size: 30px;\n              position: absolute;\n              left: 50%;\n              transform: translateX(-50%);\n              top: -0.3rem;\n              color: #e8ecf5;\n            }\n\n            .demo2 em {\n              z-index: -1;\n            }\n\n            .demo2 span {\n              left: 50%;\n              transform: translateX(-50%) translateY(0.02rem);\n\n              color: white;\n            }\n\n            .trianglem {\n              position: absolute;\n              left: 50%;\n              transform: translateX(-15%) translateY(-50%);\n              // transform: translateY(-50%);\n              // height: 0.1728rem;\n              // width: 0.2rem;\n              // background: red;\n              width: 0px;\n              height: 0px;\n              border: 0.15rem solid #000;\n              border-top-color: transparent;\n              border-left-color: transparent;\n              border-right-color: transparent;\n            }\n          }\n        }\n      }\n    }\n\n    .price {\n      font-family: \"PingFang SC\";\n      font-style: normal;\n      font-weight: 400;\n      font-size: 0.14rem;\n      line-height: 0.41rem;\n      /*width: 3.86rem;*/\n      height: 0.41rem;\n      border-bottom: 1px dashed #f1f1f1;\n\n      >div {\n        display: inline-block;\n        width: 50%;\n      }\n\n      >div:last-child {\n        font-size: 0.18rem;\n        font-weight: bold;\n        text-align: right;\n        padding-right: 0.2rem;\n      }\n    }\n\n    .operlist {\n      width: 100%;\n      height: 1.32rem;\n\n      box-sizing: border-box;\n\n      .operlist_1 {\n        width: 100%;\n        height: 0.36rem;\n        line-height: 0.36rem;\n        margin-top: 0.1rem;\n        display: flex;\n\n        .gx1 {\n          // margin-top: 2px;\n          // margin-right: 7.6px;\n        }\n\n        .gx2 {\n          // margin-top: 5px;\n          // margin-right: 7.6px;\n        }\n\n        button+button {\n          margin-left: 0.24rem;\n        }\n\n        button {\n          width: 1.88rem;\n          //   height: 35px;\n          border: none;\n          line-height: 100%;\n          background: #ffc65a;\n          border-radius: 0.34rem;\n          margin-top: 0px;\n          height: 0.36rem;\n          display: flex;\n          text-align: center;\n          align-items: center;\n          box-sizing: border-box;\n          // padding-left: 0.24rem;\n          // padding-right: 0.24rem;\n          justify-content: center;\n\n          img {\n            color: #fff2c2;\n            margin-right: .04rem;\n          }\n\n          div {\n            line-height: 0.36rem;\n            height: 0.36rem;\n          }\n        }\n\n        .btn2 {\n          padding-left: 0.44rem;\n          padding-right: 0.42rem;\n\n          img {\n            margin-right: .08rem;\n          }\n        }\n      }\n\n      .tipstext {\n        text-align: center;\n        padding-top: 0.08rem;\n      }\n\n      .operlist_2 {\n        margin-top: 0.14rem;\n        width: 100%;\n        height: 0.46rem;\n        background: #373acb;\n        border-radius: 0.24rem;\n        color: #ffffff;\n        font-weight: 400;\n        font-size: 0.16rem;\n        line-height: 0.46rem;\n        text-align: center;\n        position: relative;\n        cursor: pointer;\n        border: 0;\n        display: flex;\n        justify-content: center;\n\n        .download {\n          width: 0.25rem;\n          height: 0.25rem;\n          transform: translateY(25%);\n          fill: currentColor;\n          overflow: hidden;\n        }\n\n        img {\n          width: 0.25rem;\n          transform: translateX(-0.04rem);\n        }\n      }\n\n      .downs {\n        background: #fff;\n        border: 1px solid #373ACB;\n        color: #373ACB;\n        position: relative;\n        overflow: hidden;\n      }\n\n      .btn_x:hover {\n        background: #5F61D5;\n      }\n\n      .btn_x:active {\n        background: #2C2EA2;\n      }\n\n      .bag {\n\n\n        img {\n          color: #fff;\n          transform: translateX(0.08rem);\n        }\n      }\n\n      .btn_1 {\n        color: #222;\n        background: #FFC65A;\n      }\n\n      .btn_1:hover {\n        background: #FFDA95;\n      }\n\n      .btn_1:active {\n        background: #A37E3A;\n      }\n\n      .btn_12 {\n        background: #F1F1F1;\n        color: #222222\n      }\n\n      .btn_12:hover {\n        background: #CCCCCC;\n      }\n\n      .btn_12:active {\n        background: #CCCCCC;\n      }\n\n    }\n\n    // .operlist {\n    //   width: 100%;\n    //   height: 1.32rem;\n\n    //   box-sizing: border-box;\n\n    //   .operlist_1 {\n    //     width: 100%;\n    //     height: 0.36rem;\n    //     line-height: 0.36rem;\n    //     padding-top: 0.1rem;\n    //     display: flex;\n    //     .gx1 {\n    //       margin-top: 2px;\n    //       margin-right: 7.6px;\n    //     }\n    //     .gx2 {\n    //       margin-top: 5px;\n    //       margin-right: 7.6px;\n    //     }\n    //     button + button {\n    //       margin-left: 0.24rem;\n    //     }\n    //     button {\n    //       width: 1.88rem;\n    //       //   height: 35px;\n    //       border: none;\n    //       line-height: 100%;\n    //       background: #ffc65a;\n    //       border-radius: 0.34rem;\n    //       margin-top: 0px;\n    //       height: 30px;\n    //       display: flex;\n    //       text-align: center;\n    //       box-sizing: border-box;\n    //       padding-left: 0.35rem;\n    //       img {\n    //         color: #fff2c2;\n    //       }\n    //       div {\n    //         line-height: 0.36rem;\n    //         height: 0.36rem;\n    //       }\n    //     }\n    //   }\n    //   .operlist_2 {\n    //     margin-top: 0.14rem;\n    //     width: 4rem;\n    //     height: 0.36rem;\n    //     background: #373acb;\n    //     border-radius: 0.24rem;\n    //     color: #ffffff;\n    //     font-weight: 400;\n    //     font-size: 0.16rem;\n    //     line-height: 0.36rem;\n    //     text-align: center;\n    //   }\n    // }\n  }\n}\n\n.middle {\n  text-align: center;\n  min-width: 1020px;\n\n  >div {\n    margin: 0.2rem auto 0;\n    width: 16.18rem;\n    height: 1.51rem;\n    background: #fff;\n    border-radius: 0.14rem;\n    margin-left: 50%;\n    transform: translateX(-50%);\n    box-sizing: border-box;\n    padding-left: 2.05rem;\n    padding-top: 0.2rem;\n    padding-right: 3.68rem;\n    padding-bottom: 0.25rem;\n    display: flex;\n    text-align: left;\n\n    ul {\n      li {\n        list-style-type: none;\n        margin-top: 0.15rem;\n      }\n    }\n\n    .titles {\n      display: table-cell;\n      width: 18%;\n      font-size: 0.14rem;\n      line-height: 0.2rem;\n      text-align: right;\n      padding-right: 0.15rem;\n    }\n\n    .contents {\n      display: table-cell;\n      font-size: 0.14rem;\n      line-height: 0.2rem;\n      margin-left: 0.16rem;\n\n      .bulues {\n        color: #6467fd;\n      }\n    }\n  }\n}\n\n.in_2 {\n  //display: flex;\n  width: 3.56rem;\n  height: 0.86rem;\n  margin-top: 0.16rem;\n  background: #F8F8F8;\n  border-radius: 0.08rem;\n\n  >span {\n    margin-left: 0.04rem;\n    display: inline-block;\n    vertical-align: top;\n    margin-top: 0.15rem;\n\n    img {\n      width: 0.84rem;\n    }\n  }\n}\n\n.in_23 {\n  height: auto;\n  padding: 0.12rem;\n  font-family: 'PingFang SC';\n  font-style: normal;\n  font-weight: 400;\n  font-size: 0.12rem;\n  line-height: 0.17rem;\n  color: #FF4F44;\n  background: #FFF0EE;\n}\n\n.Related {\n  width: 100%;\n  font-family: \"PingFang SC\";\n  font-style: normal;\n  font-weight: 700;\n  font-size: 20px;\n  line-height: 28px;\n  text-align: center;\n  margin-top: 0.53rem;\n  // padding-left: 0.14rem;\n  margin-bottom: 0.14rem;\n}\n\n//.contents {\n//  // overflow-y: auto;\n//  // overflow-x: hidden;\n//  /*width: 83.7vw;*/\n//  //  height: 80vh;\n//  position: relative;\n//  margin: 0 0.2rem;\n//\n//  .numberlist {\n//    position: absolute;\n//    padding: 0 0.1rem;\n//    cursor: pointer;\n//  }\n//}\n\n/deep/ .el-slider__button-wrapper {\n  z-index: 1 !important;\n}\n\n.canvas-clip {\n  width: 3rem;\n  height: 3rem;\n  // background: #000;\n  // position: relative;\n  // top: 50%;\n  // left: 50%;\n  // transform: scale(1) translate(-50%, -50%);\n  // margin-left: 26px;\n  position: absolute;\n  z-index: 99;\n  margin-bottom: 30px;\n  left: 0;\n  top: 0;\n\n  .markImg1 {\n    display: none;\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: 888;\n    left: 0;\n    top: 0;\n    // box-shadow: 0 0 8px rgb(0 0 0 / 12%);\n    pointer-events: none;\n    // display: none;\n  }\n\n  .markImg2 {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: scale(1) translate(-50%, -50%);\n    z-index: 2;\n    pointer-events: none;\n  }\n\n\n}\n\n.babylon-container {\n  // margin-bottom: 24px;\n  position: relative;\n  // width: 650px;\n  // height: 650px;\n  width: 6rem;\n  height: 6rem;\n}\n\n.markDiv {\n  width: 300px;\n  height: 300px;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: scale(1) translate(-50%, -50%);\n  z-index: 2;\n  pointer-events: none;\n  display: none;\n}\n\n#container {\n  // width: 650px;\n  // height: 650px;\n  width: 6rem;\n  height: 6rem;\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  img {\n    // width: 100%;\n    height: 100%;\n    width: auto;\n    // object-fit: cover;\n  }\n}\n\n.canvas-container canvas {\n  opacity: 0;\n}\n\n#canvasBox3 {\n  opacity: 100;\n}\n\n.ordinary-picture {\n  width: 0.5rem;\n  height: 0.5rem;\n  margin-top: 0.2rem;\n  //position: absolute;\n  z-index: 9;\n  //right: 0;\n\n  img {\n    width: 100%;\n    height: 100%;\n  }\n}\n\n/deep/ .el-textarea__inner {\n  background: #f1f1f1;\n}\n</style>>\n\n"]}]}