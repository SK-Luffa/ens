{"remainingRequest":"/Users/dengzixu/WebstormProjects/vue/pattern100_en_web/en/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dengzixu/WebstormProjects/vue/pattern100_en_web/en/src/components/PersonalCenter/OrderForm/Order/InvoiceEdit.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"/Users/dengzixu/WebstormProjects/vue/pattern100_en_web/en/src/components/PersonalCenter/OrderForm/Order/InvoiceEdit.vue","mtime":1661495438848},{"path":"/Users/dengzixu/WebstormProjects/vue/pattern100_en_web/en/node_modules/css-loader/dist/cjs.js","mtime":1665559060654},{"path":"/Users/dengzixu/WebstormProjects/vue/pattern100_en_web/en/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1665559060919},{"path":"/Users/dengzixu/WebstormProjects/vue/pattern100_en_web/en/node_modules/postcss-loader/src/index.js","mtime":1665559060728},{"path":"/Users/dengzixu/WebstormProjects/vue/pattern100_en_web/en/node_modules/less-loader/dist/cjs.js","mtime":1665559060430},{"path":"/Users/dengzixu/WebstormProjects/vue/pattern100_en_web/en/node_modules/cache-loader/dist/cjs.js","mtime":1665559060439},{"path":"/Users/dengzixu/WebstormProjects/vue/pattern100_en_web/en/node_modules/vue-loader/lib/index.js","mtime":1665559060829}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5pbnZvaWNlLWVkaXQuZWwtZGlhbG9nIHsKCiAgd2lkdGg6IDcuMzRyZW07CiAgYm9yZGVyLXJhZGl1czogMC4xNHJlbTsKCiAgLmVsLWRpYWxvZ19fYm9keXsKICAgIHBhZGRpbmc6MCAyMHB4IDMwcHg7CiAgfQoKICAuZGlhbG9nLWZvb3RlcnsKICAgIHRleHQtYWxpZ246IHJpZ2h0OwoKICAgIC5lbC1idXR0b257CgogICAgICBoZWlnaHQ6IDAuMzhyZW07CiAgICAgIGxpbmUtaGVpZ2h0OiAwLjM4cmVtOwogICAgICBiYWNrZ3JvdW5kOiAjRjFGMUYxOwogICAgICBjb2xvcjogIzIyMjsKICAgICAgYm9yZGVyLXJhZGl1czogMC4yMHJlbTsKICAgICAgYm9yZGVyOiBub25lOwogICAgICBwYWRkaW5nOiAwIDAuMnJlbTsKICAgIH0KICAgIC5lbC1idXR0b24tLXByaW1hcnl7CiAgICAgIGJhY2tncm91bmQ6ICMzNzNBQ0I7CiAgICAgIGNvbG9yOiAjRkZGRkZGOwogICAgfQogICAgLmVsLWJ1dHRvbjpob3ZlcnsKICAgICAgb3BhY2l0eTogMC44OwogICAgfQogIH0KCgovLyAgbWFyZ2luLWxlZnQ6IDAuNXJlbTsKLy8gIHdpZHRoOiAwLjgzcmVtOwovLyAgaGVpZ2h0OiAwLjM4cmVtOwovLyAgdGV4dC1hbGlnbjogY2VudGVyOwovLyAgbGluZS1oZWlnaHQ6IDAuMzhyZW07Ci8vICBiYWNrZ3JvdW5kOiAjRjFGMUYxOwovLyAgY29sb3I6ICMyMjI7Ci8vICBib3JkZXItcmFkaXVzOiAwLjIwcmVtOwovLyAgYm9yZGVyOiBub25lOwovL30KLy9idXR0b24gKyBidXR0b24gewovLyAgYmFja2dyb3VuZDogIzM3M0FDQjsKLy8gIGNvbG9yOiAjRkZGRkZGOwovL30KCgogIC5pbnB1dCB7CiAgICBwYWRkaW5nLXRvcDogMC4wOHJlbTsKCiAgICAuaW5wdXRfMSB7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgbWFyZ2luLXRvcDogMC4xNnJlbTsKCiAgICAgIGlucHV0IHsKICAgICAgICB3aWR0aDogM3JlbTsKICAgICAgICBoZWlnaHQ6IDAuNDhyZW07CiAgICAgICAgcGFkZGluZy1sZWZ0OiAwLjE0cmVtOwogICAgICAgIHBhZGRpbmctcmlnaHQ6IDAuMTZyZW07CiAgICAgICAgZ2FwOiAxMHB4OwogICAgICAgIGJhY2tncm91bmQ6ICNGOEY4Rjg7CiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI0YxRjFGMTsKICAgICAgICBib3JkZXItcmFkaXVzOiAwLjE0cmVtOwogICAgICB9CgogICAgICAuaW5wdXRfMV8zIHsKICAgICAgICB3aWR0aDogNi4yMHJlbTsKICAgICAgfQogICAgfQoKICAgIC5pbnB1dF8yIHsKICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsKCiAgICAgIGJ1dHRvbjpob3ZlciB7CiAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICB9CgogICAgICBidXR0b24gewogICAgICAgIG1hcmdpbi1sZWZ0OiAwLjVyZW07CiAgICAgICAgd2lkdGg6IDAuODNyZW07CiAgICAgICAgaGVpZ2h0OiAwLjM4cmVtOwogICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICBsaW5lLWhlaWdodDogMC4zOHJlbTsKICAgICAgICBiYWNrZ3JvdW5kOiAjRjFGMUYxOwogICAgICAgIGNvbG9yOiAjMjIyOwogICAgICAgIGJvcmRlci1yYWRpdXM6IDAuMjByZW07CiAgICAgICAgYm9yZGVyOiBub25lOwogICAgICB9CgogICAgICBidXR0b24gKyBidXR0b24gewogICAgICAgIGJhY2tncm91bmQ6ICMzNzNBQ0I7CiAgICAgICAgY29sb3I6ICNGRkZGRkY7CiAgICAgIH0KICAgIH0KICB9Cgp9Cgo="},{"version":3,"sources":["InvoiceEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoMA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"InvoiceEdit.vue","sourceRoot":"src/components/PersonalCenter/OrderForm/Order","sourcesContent":["<template>\n  <el-dialog :title=\"title\"\n             :visible.sync=\"visible\"\n             @close=\"close\"\n             :center=\"true\"\n             custom-class=\"invoice-edit\">\n  <div>\n<!--    <div class=\"contents\">-->\n<!--      <i class=\"el-icon-close\" @click=\"closeb\"></i>-->\n<!--      <div class=\"title\">Enter invoice information</div>-->\n      <div class=\"input\">\n        <div class=\"input_1\">\n          <input class=\"input_1_1\" type=\"text\" v-model=\"order.name\" placeholder=\"Your name\" :disabled=\"order.invoice!=''\">\n          <input class=\"input_1_2\" type=\"text\" v-model=\"order.email\" placeholder=\"Your email\" :disabled=\"order.invoice!=''\">\n        </div>\n        <div class=\"input_1\">\n          <input class=\"input_1_3\" type=\"text\" v-model=\"order.address\" placeholder=\"address\" :disabled=\"order.invoice!=''\">\n        </div>\n        <div class=\"input_1\">\n          <input class=\"input_1_1\" type=\"text\" v-model=\"order.city\" placeholder=\"City\" :disabled=\"order.invoice!=''\">\n          <input class=\"input_1_2\" type=\"text\" v-model=\"order.postCode\" placeholder=\"Zip/postal code\" :disabled=\"order.invoice!=''\">\n        </div>\n        <div class=\"input_1\">\n          <input class=\"input_1_1\" type=\"text\" v-model=\"order.country\" placeholder=\"Country/Region\" :disabled=\"order.invoice!=''\">\n          <input class=\"input_1_2\" type=\"text\" v-model=\"order.province\" placeholder=\"State/Province\" :disabled=\"order.invoice!=''\">\n        </div>\n<!--        <div class=\"input_1 input_2\">-->\n<!--          <button @click=\"close\">Cancel</button>-->\n<!--          <button @click=\"submit\">Submit</button>-->\n\n<!--        </div>-->\n\n      </div>\n\n<!--    </div>-->\n  </div>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"close = false\">Cancel</el-button>\n      <el-button type=\"primary\" @click=\"submit\">Download</el-button>\n    </div>\n  </el-dialog>\n</template>\n<script>\nexport default {\n  name: \"invoice-edit\",\n  props:{\n    // order:{\n    //   type:Object,\n    //   default:{},\n    // },\n    // orderId: {\n    //   type: Number,\n    //   default: null,\n    // },\n    // invoice: {\n    //   type: String,\n    //   default: '',\n    // },\n  },\n  data() {\n    return {\n      title:'Invoice Information',\n      order:{},\n      visible:false,\n      locking:false,\n      // names: \"\",\n      // emaib: \"\",\n      // ress: \"\",\n      // city: \"\",\n      // postalCode: \"\",\n      // Region: \"\",\n      // Province: '',\n      // suo: true,\n\n    };\n  },\n  methods: {\n    show(order){\n      this.visible=true;\n      this.order=order;\n\n    },\n    submit() {\n      const _this =this;\n      if(_this.order.invoice){\n\n        let ele = document.createElement('a');\n        ele.setAttribute('href', _this.$imgServer+_this.order.invoice); //设置下载文件的url地址\n        ele.setAttribute('download', _this.order.id + '.pdf');//用于设置下载文件的文件名\n\n        ele.setAttribute(\"target\", \"_blank\");\n\n        _this.close();\n        ele.click();\n\n      }else{\n        if(_this.locking)\n          return;\n        _this.locking=true;\n\n        if (_this.order.name === \"\") {\n          _this.locking=false;\n          return this.$message(\"name format error\")\n        }\n        // debugger\n        if (_this.order.email === \"\") {\n          _this.locking=false;\n          return this.$message(\"emails format error\")\n        }\n\n        if (!/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\\\\.[a-zA-Z0-9-]+)*\\.[a-zA-Z0-9]{2,6}$/.test(_this.order.email)) {\n          _this.locking=false;\n          return this.$message(\"Email format error\")\n        }\n\n        if (_this.order.address === \"\") {\n          _this.locking=false;\n          return this.$message(\"address format error\")\n        }\n\n        if (_this.order.city === \"\") {\n          _this.locking=false;\n          return this.$message(\"city format error\")\n        }\n\n        if (_this.order.postCode === \"\") {\n          _this.locking=false;\n          return this.$message(\"postal code format error\")\n        }\n\n        if (_this.order.country === \"\") {\n          _this.locking=false;\n          return this.$message(\"Region format error\")\n        }\n        if (_this.order.province === \"\") {\n          _this.locking=false;\n          return this.$message(\"Province format error\")\n        }\n\n        // let c='';\n        // if(this.city)\n        //   c+=this.city;\n        // if(this.Province){\n        //   if(c!='')\n        //     c+=',';\n        //   c+=this.Province;\n        // }\n        // if(this.postalCode){\n        //   if(c!='')\n        //     c+=',';\n        //   c+=this.postalCode;\n        // }\n\n        _this.rq({\n          url: \"/api/shop/getInvoice\",\n          method: \"post\",\n          param: {\n            id:_this.order.id,\n            name:_this.order.name,\n            email:_this.order.email,\n            city:_this.order.city,\n            country:_this.order.country,\n            address:_this.order.address,\n            province:_this.order.province,\n            postCode:_this.order.postCode,\n          },\n          onError: function () {\n            _this.locking=false;\n          },\n          _this,\n        }).then((res) => {\n          _this.locking=false;\n          if (res.code == 200) {\n            _this.order.invoice=res.data;\n            let ele = document.createElement('a');\n            ele.setAttribute('href', _this.$imgServer+res.data); //设置下载文件的url地址\n            ele.setAttribute('download', _this.order.id + '.pdf');//用于设置下载文件的文件名\n\n            ele.setAttribute(\"target\", \"_blank\");\n\n            _this.close();\n            ele.click();\n\n          }\n        })\n      }\n    },\n    close() {\n      const _this=this;\n      _this.visible=false;\n      _this.order = {};\n    },\n  },\n};\n</script>\n<style lang=\"less\">\n.invoice-edit.el-dialog {\n\n  width: 7.34rem;\n  border-radius: 0.14rem;\n\n  .el-dialog__body{\n    padding:0 20px 30px;\n  }\n\n  .dialog-footer{\n    text-align: right;\n\n    .el-button{\n\n      height: 0.38rem;\n      line-height: 0.38rem;\n      background: #F1F1F1;\n      color: #222;\n      border-radius: 0.20rem;\n      border: none;\n      padding: 0 0.2rem;\n    }\n    .el-button--primary{\n      background: #373ACB;\n      color: #FFFFFF;\n    }\n    .el-button:hover{\n      opacity: 0.8;\n    }\n  }\n\n\n//  margin-left: 0.5rem;\n//  width: 0.83rem;\n//  height: 0.38rem;\n//  text-align: center;\n//  line-height: 0.38rem;\n//  background: #F1F1F1;\n//  color: #222;\n//  border-radius: 0.20rem;\n//  border: none;\n//}\n//button + button {\n//  background: #373ACB;\n//  color: #FFFFFF;\n//}\n\n\n  .input {\n    padding-top: 0.08rem;\n\n    .input_1 {\n      display: flex;\n      justify-content: space-between;\n      margin-top: 0.16rem;\n\n      input {\n        width: 3rem;\n        height: 0.48rem;\n        padding-left: 0.14rem;\n        padding-right: 0.16rem;\n        gap: 10px;\n        background: #F8F8F8;\n        border: 1px solid #F1F1F1;\n        border-radius: 0.14rem;\n      }\n\n      .input_1_3 {\n        width: 6.20rem;\n      }\n    }\n\n    .input_2 {\n      justify-content: flex-end;\n\n      button:hover {\n        cursor: pointer;\n      }\n\n      button {\n        margin-left: 0.5rem;\n        width: 0.83rem;\n        height: 0.38rem;\n        text-align: center;\n        line-height: 0.38rem;\n        background: #F1F1F1;\n        color: #222;\n        border-radius: 0.20rem;\n        border: none;\n      }\n\n      button + button {\n        background: #373ACB;\n        color: #FFFFFF;\n      }\n    }\n  }\n\n}\n\n</style>\n"]}]}